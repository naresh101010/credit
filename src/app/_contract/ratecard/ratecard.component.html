<!-- New Blink message -->
<div *ngIf="isCopyRateCard && isFCopyRc" class="alert alert-dismissible blinkMessage blinking">
  <a (click)="getRateCardDetail()" class="close" data-dismiss="alert" aria-label="close">&times;</a>Future Rate Card !
</div>
<div *ngIf="isCopyRateCard && isCopyRc" class="alert alert-dismissible blinkMessage blinking">
  <a (click)="getRateCardDetail()" class="close" data-dismiss="alert" aria-label="close">&times;</a>Copy Rate Card !
</div>
<!-- End of blink message -->
<div class="hero-content contractContainer">
  <div class="row text-left parent">
    <div class="breadcrumb">
      <a href="#" target="_self">Dashboard</a><span class="fa fa-caret-right"></span>
      <a href="#" target="_self">Contracts</a><span class="fa fa-caret-right"></span>
      <a href="#" target="_self">Customer</a><span class="fa fa-caret-right"></span>
      CREDIT
    </div>
    <stepper></stepper>
  </div>
  <h3>Credit Contract</h3>
  <div id="mat-card-heading" fxLayout="row" 
    fxLayout.xs="column" fxLayoutAlign="space-between center" fxLayoutAlign.xs="space-between start" 
    class="mat-card-header-container">
    <div fxFlex=33 fxFlex.xs=100 fxLayout="row" fxLayoutAlign="start"><span>Customer Name : </span><span>{{custName}}</span></div>
    <div fxFlex=33 fxFlex.xs=100 fxLayout="row" fxLayoutAlign="start"><span>Salesforce Account Id :
      </span><span>{{sfdcAccId}}</span></div>
    <div fxFlex=33 fxFlex.xs=100 fxLayout="row" fxLayoutAlign="start"><span>SFX Code : </span><em>{{sfxCode}}</em>
    </div>
  </div>
  <mat-card>
    <div>
      <mat-accordion multi="true">
        <mat-expansion-panel id="box-shadow" #first [disabled]="isExpanded" (opened)="openRateCard()" (closed)="closeRateCard()" [expanded]="true">
          <mat-expansion-panel-header (click)="getRateCardDetail()" style="cursor: pointer;">
            Rate Card
          </mat-expansion-panel-header>
          <mat-card-content>
            <!-- boxes -->          
            <div class="commercialboxflex" *ngxPermissionsOnly="['RATE CARD_READ']" style="margin-top: 1rem !important;">
              <div *ngIf="rateCardDetails.length>0" class="flexproperty" (clickOutside)="clickBodyElem($event)" [exclude]="'.futureCard'">
              <div *ngFor="let data of rateCardDetails">
                <div [ngClass]="(data.rateCardCode == model.rateCardCode)  ? 'commercialbox1' : 'commercialbox'" style="margin-right: 1rem;">
                  <div class="container">
                    <div *ngxPermissionsOnly="['RATE CARD_CREATE']" class="futureCard">
                    <i *ngIf="editflow" style="cursor: pointer"
                    (click)="toggleCopyRc(data)" id="toggleCopyRc">
                    <!-- <img src="../assets/images/copy-document.svg"> -->
                    <i class="material-icons deleteIcon1" style="left: 7rem !important">file_copy</em>
                    <div class="future_card" *ngIf="data.showRctoggle && isRcToggle">
                    <h6 class="future_rc_txt" (click)="copyRateCard(data,'FCP')">FUTURE RATE CARD</h6>
                    <h6 class="future_rc_txt" (click)="copyRateCard(data,'CP')">COPY RATE CARD</h6>
                    </div>
                    </em>
                    <i  *ngIf="editflow" (click)="putRatecard(data)" class="material-icons deleteIcon1"  style="left: 7rem !important">delete</em>
                    <i  *ngIf="!editflow" (click)="putRatecard(data)" class="material-icons deleteIcon1">delete</em>
                    
                    </div>
                    <h6 (click)="ratecardDeailbyId(data,false)" style="cursor: pointer;">{{data.rateCardCode}}</h6>
                    <mat-divider *ngIf="!data.showRctoggle" id="commercialboxdivider"></mat-divider>
                    <p class="card_minor_text to_upper_case heading_bold">Service Offering </p>
                    <p class="card_minor_text to_upper_case" *ngFor="let offer of offerings">
                      <span *ngIf="offer.id==data.offeringId">{{offer.serviceOffering}}</span>
                    </p>
                    <!-- offerings -->
                  </div>
                </div>
              </div>
            </div>
              <div class="commercialbox2" style="margin-right: 1rem;" *ngxPermissionsOnly="['RATE CARD_CREATE']">
                <i class="addNewButton" (click)="changeState1()"
                  class="material-icons addNewButton" style="position: relative;" id="addRateCard">add</em>
                <p class="addNewText">Add New</p>
              </div>
          </div>
          </mat-card-content>
        </mat-expansion-panel>

        <form name="ratecard" (ngSubmit)="fRatecard.form.valid" #fRatecard="ngForm" novalidate *ngxPermissionsOnly="['RATE CARD_READ']">
        <mat-expansion-panel id="box-shadow"  [disabled]="isExpanded" #second (opened)="openRateCardDetail()" (closed)="closeRateCardDetail()">
          <mat-expansion-panel-header  (click)="openRateCardDetailClick()" style="cursor: pointer;" >Rate Card Detail</mat-expansion-panel-header>
          <mat-card-content>
            <div>
              <div class="row margintop10">
                <div class="col-lg-4 col-md-4  " style="width: 40.333333%;">
                  <div class="row" >
                    <div class="col-lg-6 col-md-6 label-text">Rate Card Name</div>
                    <div class="col-lg-4 col-md-4 label-text-value">
                      <mat-form-field appearance="outline" class="full-width">
                        <input matInput  autocomplete="true" name="rateCardCode" [(ngModel)]="model.rateCardCode" readonly maxlength="20">
                      </mat-form-field>
                    </div>
                  </div>
                  
                  <div class="row">
                    <div class="col-lg-6 col-md-6 label-text">Rate Card Sign Date<span class="redMark"> *</span></div>
                    <div class="col-lg-4 col-md-4 label-text-value">
                      <mat-form-field appearance="outline" id="datepickerwidth">
                        <input matInput  autocomplete="true" [matDatepicker]="picker2" name="rateCardSignDt" disabled [(ngModel)]="model.rateCardSignDt" class="date_picker"
                         required #RCSdate='ngModel'   placeholder="DD/MM/YYYY" maxlength="22">
                        <mat-datepicker panelClass="creditDatepicker" #picker2></mat-datepicker>
                        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6 col-md-6  "></div>
                    <div class="col-lg-6 col-md-6  ">
                    <app-validation-msg *ngIf="(RCSdate.errors?.required && RCSdate.touched)" [msg]="'Required !'"></app-validation-msg>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6 col-md-6 label-text">Rate Card Start Date<span class="redMark"> *</span></div>
                    <div class="col-lg-4 col-md-4 label-text-value">
                      <mat-form-field appearance="outline" id="datepickerwidth">
                        <input matInput  autocomplete="true" [matDatepicker]="picker" [min]="minDate" [max]="maxdateRCStart" name="effectiveDt" class="date_picker"
                         required #RCDdatee='ngModel'  [(ngModel)]="model.effectiveDt" placeholder="DD/MM/YYYY" maxlength="29" (blur)="startDate()" (dateChange)="startDate()">
                        <mat-datepicker panelClass="creditDatepicker" #picker></mat-datepicker>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      </mat-form-field>
                      <span *ngIf="isValidStartDt" class="hasErrorMsgRightSide">
                        Invalid Start Date!
                      </span>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6 col-md-6  "></div>
                    <div class="col-lg-6 col-md-6  ">
                      <app-validation-msg *ngIf="(RCDdatee.errors?.required && RCDdatee.touched)" [msg]="'Required !'"></app-validation-msg>
                    </div>
                  </div>
                 
                  <div class="row">
                    <div class="col-lg-6 col-md-6 label-text">Rate Card End Date<span class="redMark"> *</span></div>
                    <div class="col-lg-4 col-md-4 label-text-value">
                      <mat-form-field appearance="outline" id="datepickerwidth">
                        <input matInput  autocomplete="true" [matDatepicker]="picker3" name="expDt" class="date_picker"
                          required #RCEdate='ngModel'  [(ngModel)]="model.expDt" placeholder="DD/MM/YYYY" [min]="mindateRCExp" [max]="maxDate" (blur)="endDate()" (dateChange)="endDate()">
                        <mat-datepicker panelClass="creditDatepicker" #picker3></mat-datepicker>
                        <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                      </mat-form-field>
                      <span *ngIf="isValidEndDt" class="hasErrorMsgRightSide">
                        Invalid End Date!
                      </span>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-lg-6 col-md-6  "></div>
                    <div class="col-lg-6 col-md-6  ">
                    <app-validation-msg *ngIf="(RCEdate.errors?.required && RCEdate.touched)" [msg]="'Required !'"></app-validation-msg>
                    </div>
                  </div>
                  
                  <div class="row">
                    <div class="col-lg-6 col-md-6 label-text">Zone Matrix<span class="redMark"> *</span></div>
                    <div *ngIf="!model.zoneMtxId" class="col-lg-4 col-md-4 label-text-value">
                      <mat-form-field appearance="outline" id="datepickerwidth">
                        <mat-select disableOptionCentering panelClass="creditSelect" required #zonematric='ngModel' [disabled]="isDisableZm" name="zoneMtxId" [(ngModel)]="model.zoneMtxId">
                          <mat-option *ngFor="let zone of zoneMatrix" [value]="zone.id">                           
                              {{zone.name}}
                          </mat-option>

                        </mat-select>
                      </mat-form-field>
                    <p *ngIf="(zonematric.errors?.required && zonematric.touched)" style="color: red;">Required !</p>
                    </div>
                    <div *ngIf="model.zoneMtxId" class="col-lg-4 col-md-4 label-text-value">
                      <mat-form-field appearance="outline" id="datepickerwidth">
                        <mat-select disableOptionCentering panelClass="creditSelect"  [disabled]="isDisableZm" name="zoneMtxId" [(ngModel)]="model.zoneMtxId" (selectionChange)="changeZoneMatrix()">
                          <mat-option #tooltip="matTooltip"
                          matTooltip="Previous Data Mapped with Zone Matrix will be cleared on change"
                          matTooltipPosition="right" *ngFor="let zone of zoneMatrix" [value]="zone.id">
                            {{zone.name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-6 col-md-6  "></div>
                    <div class="col-lg-6 col-md-6  ">
                      
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-6 col-md-6 label-text">Comment</div>
                    <div class="col-lg-5 col-md-5 label-text-value">
                   <textarea id="datepickerwidth" #comment="ngModel" class="form-control-textarea"  name="descr" [(ngModel)]="model.descr" placeholder="Leave a comment" maxlength="100">
                  </textarea>         
                      </div>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4  "></div>
                <div class="col-lg-4 col-md-4  " style="width: 26.333333%;">
                  <div class="col-lg-6 col-md-6"></div>
                  <div class="col-lg-6 col-md-6"></div>
                  <div class="row" >
                    <div class="col-lg-6 col-md-6 label-text">Status</div>
                    <div class="col-lg-6 col-md-6 label-text-value">
                      Active</div>
                  </div>
                  <!-- Service Offering -->
                  <div class="row margintop10" >
                    <div class="col-lg-6 col-md-6 label-text">Service Offering<span class="redMark"> *</span></div>
                    <div class="col-lg-6 col-md-6 label-text-value">
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-select disableOptionCentering panelClass="creditSelect" required #serviceoffring='ngModel' [disabled]="isDisable" name="offeringId" [(ngModel)]="model.offeringId" >
                          <mat-option *ngFor="let service of offerings" [value]="service.id">
                            {{service.serviceOffering}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                   
                  </div>
                  <div class="row">
                    <div class="col-lg-6 col-md-6  "></div>
                    <div class="col-lg-6 col-md-6  ">
                      <p *ngIf="(serviceoffring.errors?.required && serviceoffring.touched)" class="redMark"><em>Required !</em></p>
                    </div>
                  </div>
                  <div class="row" >
                    <div class="col-lg-6 col-md-6 label-text">Base Location<span class="redMark"> *</span></div>
                    <div class="col-lg-6 col-md-6 label-text-value">
                      <ng-select [items]="tableDataLocSearch" id="baseLocation"
                          name="baseLocation"
                          class="creditNgDropdown"
                          bindLabel="baseLocnBranchName"
                          class="creditNgDropdown"
                          bindValue="baseLocnBranchId"
                          appendTo="body"
                          (search) ='advanceDefaultBranchName($event)'
                          [(ngModel)]="model.baseLocnBranchId"
                          (click)="onClear()"
                          required #baseLocation="ngModel">
                      </ng-select>
                    </div>
                  </div>
                  <div class="row" *ngIf="(baseLocation.errors?.required && baseLocation.touched) || baseLocationError==true">
                    <div class="col-lg-6 col-md-6  ">                      
                      <app-validation-msg *ngIf="(baseLocation.errors?.required && baseLocation.touched) && !(baseLocationError==true)" [msg]="'Required !'"></app-validation-msg>
                      <app-validation-msg  *ngIf="(baseLocationError==true)" [msg]="'Enter min. 3 character'"></app-validation-msg>    
                    </div>
                    <div class="col-lg-6 col-md-6  "></div>
                  </div>
                 
                  <div class="row commandmentspace" >
                    <div class="col-lg-6 col-md-6 label-text">Commandment<span class="redMark"> *</span></div>
                    <div class="col-lg-6 col-md-6 label-text-value">
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-select (selectionChange)="closeCmdmnt()" disableOptionCentering panelClass="creditSelect" [(value)]='model.cmdmntLevel' required #commandment='ngModel' name="cmdmntLevel" [(ngModel)]="model.cmdmntLevel">
                          <mat-option value="COMMERCIAL LEVEL">COMMERCIAL LEVEL</mat-option>
                          <mat-option value="RATECARD LEVEL">RATECARD LEVEL</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="row" *ngIf="(commandment.errors?.required && commandment.touched)">
                    <div class="col-lg-6 col-md-6  "></div>
                    <div class="col-lg-6 col-md-6  ">
                      <p *ngIf="(commandment.errors?.required && commandment.touched)" class="redMark"><em>Required !</em></p>
                    </div>
                  </div>

                </div>
              </div>
            </div>
            <div style="margin-top: 3%;" *ngxPermissionsOnly="['RATE CARD_CREATE','RATE CARD_UPDATE']">
              <mat-accordion>
                <div class="example-button-row text-center" style="margin-top: 2%">
                  <button id="rateCardDraftButton" *ngIf="!isCopyRateCard" class="btn1" mat-raised-button color="primary" type="submit"
                  (click)="postRateCardDetail('save')" [disabled]="!fRatecard.form.valid">Save And Create New</button>
                  <button id="rateCardNextButton" class="btn1" type="submit" mat-raised-button color="primary"
                    (click)="postRateCardDetail('continue')" [disabled]="!fRatecard.form.valid">Continue</button>
                </div>
              </mat-accordion>
            </div>
          </mat-card-content>
        </mat-expansion-panel>

        </form>

        <mat-expansion-panel id="box-shadow" [disabled]="isExpanded" #third (opened)="openCommercialSurface()" (closed)="closeCommercialSurface()" *ngxPermissionsOnly="['COMMERCIAL_READ']">
          <mat-expansion-panel-header style="cursor: pointer;" (click)="getCommercialDetail(false)">
            Commercial Surface
          </mat-expansion-panel-header>
          <mat-card-content>
            <!-- boxes -->
            <form name="commSurface" (ngSubmit)="fCommercial.form.valid" #fCommercial="ngForm" novalidate *ngxPermissionsOnly="['COMMERCIAL_READ']">
            <div class="commercialboxflex" style="margin-top: 1rem !important;">
              <div class="commercialboxflex" *ngIf="commercial.length>0">
                <div *ngFor="let data of commercial">
                  <div [ngClass]="{
                    'commercialboxcard': ((selectedId == data.id)),
                    'commercialbox3': (!data.oldComm && isCopyRateCard),
                    'commercialbox': (selectedId != data.id)
                    }" style="margin-right: 1rem;">
                    <div class="container">
                      <i *ngxPermissionsOnly="['COMMERCIAL_CREATE']" class="material-icons deleteIcon1" (click)="deleteCommercialDetailbyId(data.id)">delete</em>
                      <h6 style="cursor: pointer;" (click)="getCommercialDetailbyId(data.id)">{{data.id}}</h6>
                      <mat-divider id="commercialboxdivider"></mat-divider>
                      <p *ngIf="data.chargeByName.length>13" class="card_minor_text to_upper_case heading_bold" [matTooltip]="data.chargeByName | uppercase">{{data.chargeByName}}</p>
                      <p *ngIf="data.chargeByName.length<13" class="card_minor_text to_upper_case heading_bold" >{{data.chargeByName}}</p>
                      <P *ngIf="data.packageName" class="card_minor_text to_upper_case">PACK: {{data.packageName}}</P>
                      <P *ngIf="!data.packageName" class="card_minor_text to_upper_case">PACK: NA</P>
                    </div>
                  </div>
                </div>
              </div>

              <div *ngIf="!isCopyRateCard" class="commercialbox2" style="margin-right: 1rem;">
                <i style="color: #27AE60; font-size: 8.5rem; cursor: pointer;" (click)="getCommercialDetailbyId('')"
                  class="material-icons addNewButton" id="addCommercialSurface" *ngxPermissionsOnly="['COMMERCIAL_CREATE']">add</em>
                <p class="addNewText" *ngxPermissionsOnly="['COMMERCIAL_CREATE']">Add New</p>
              </div>
            </div>
            <!-- end boxes -->

            <!-- content -->
            <div *ngIf="showCommercialData">
            <!-- <div> -->
              <div class="row">
                <div class="row margintop20" >
                  <div class="col-lg-6   col-md-6">
                  <div class="col-lg-4 col-md-4 label-text " >Rate Type<span class="redMark"> *</span></div>
                  <div class="col-lg-8 col-md-8 label-text-value paddingleft9">
                    <mat-radio-group style="padding-left: 1rem !important;" *ngFor="let type of rateTypes" class="example-radio-group"
                      name="rateType" [(ngModel)]="CommercialDataModel.rateType">
                      <mat-radio-button class="example-radio-button" [value]="type.value">
                        {{type.value}}
                      </mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>
                <div class="col-lg-2   col-md-2"></div>
                <div class="col-lg-4   col-md-4">
                  <div class="col-lg-6 col-md-6 label-text">Charge By<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6 label-text-value">
                    <mat-form-field appearance="outline" style="width: 95%;">
                      <mat-select disableOptionCentering panelClass="creditSelect" #chargeBy='ngModel' required name="lkpChrgById" [(ngModel)]="CommercialDataModel.lkpChrgById" (selectionChange)="changeChargeBy(CommercialDataModel.lkpChrgById); pricingParamData(true);clearingValues()">
                        <mat-option *ngFor="let item of ReferenceDataModel.chargeByList" [value]="item.id" selected>
                          {{item.descr}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <app-validation-msg *ngIf="(chargeBy.errors?.required && (chargeBy.touched || fCommercial.submitted ))" [msg]="'Required !'"></app-validation-msg>
                  </div>
                </div>            
                </div>

                <div class="row">
                  <div class="col-lg-4   col-md-4">
                    <div class="col-lg-6 col-md-6 label-text">GST Flag<span class="redMark"> *</span></div>
                    <div class="col-lg-6 col-md-6 label-text-value ">
                      <mat-radio-group style="padding-left: 1rem !important;" *ngFor="let season of gst" class="example-radio-group"
                        name="gstinFlag" [(ngModel)]="CommercialDataModel.gstinFlag">
                        <mat-radio-button class="example-radio-button" [value]="season.id">
                          {{season.value}}
                        </mat-radio-button>
                      </mat-radio-group>
                    </div> 
                    <div *ngIf="CommercialDataModel.gstinFlag==1">
                      <div class="col-lg-6 col-md-6 label-text">Gst Type<span class="redMark"> *</span></div>
                      <div class="col-lg-6 col-md-6 label-text-value">
                        <mat-form-field appearance="outline">
                          <mat-select disableOptionCentering panelClass="creditSelect" panelClass="creditSelect" #gstType='ngModel' required name="gstTypeId" [(ngModel)]="CommercialDataModel.gstTypeId">
                            <mat-option *ngFor="let item of ReferenceDataModel.gstTypeList" [value]="item.id">
                              {{item.gstType}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <app-validation-msg class="displayBlock" *ngIf="(gstType.errors?.required && (gstType.touched || fCommercial.submitted))" [msg]="'Required !'"></app-validation-msg>
                      </div>
                    </div>  
                    <div *ngIf="CommercialDataModel.lkpChrgByPiece">
                      <div class="col-lg-6 col-md-6 label-text">Product List<span class="redMark"> *</span></div>
                      <div class="col-lg-6 col-md-6 label-text-value">
                        <mat-form-field appearance="outline" >
                          <mat-select disableOptionCentering panelClass="creditSelect" (blur)="selectedProductTouch()" required placeholder="select" [formControl]="toppings" multiple name="toppingId">
                            <mat-option *ngFor="let topping of productList" [value]="topping.id"
                            #tooltip="matTooltip"
                            matTooltip="For product with differents Rate create a new commercial"
                            matTooltipPosition="right" (click)="selectedProduct(toppings.value)">{{topping.prdctName}}</mat-option>
                          </mat-select>
                        </mat-form-field>
                        <app-validation-msg class="displayBlock" *ngIf='prdListChk' [msg]="'Required !'"></app-validation-msg>
                      </div>

                    </div> 
                    <div>
                      <div class="col-lg-6 col-md-6 label-text">Slab Required<span class="redMark"> *</span></div>
                      <div class="col-lg-6 col-md-6 label-text-value ">
                        <mat-radio-group style="padding-left: 1rem !important;" *ngFor="let season of gst" class="example-radio-group"
                          name="slabFlag" [(ngModel)]="CommercialDataModel.slabFlag" (change)="slabHandleforZonal(season.value)">
                          <mat-radio-button class="example-radio-button" [value]="season.id" [checked]=season.checked>
                            {{season.value}}
                          </mat-radio-button>
                        </mat-radio-group>  
                      </div>
                    </div>                                    
                  </div>
                  <div class="col-lg-4   col-md-4"></div>
                  <div class="col-lg-4   col-md-4">
                    <div >
                      <div class="col-lg-6 col-md-6 label-text">Product Category<span class="redMark"> *</span></div>
                      <div class="col-lg-6 col-md-6 label-text-value">
                        <mat-form-field appearance="outline" style="width: 95%;">
                          <mat-select disableOptionCentering panelClass="creditSelect" #prductCate='ngModel' required name="prdctCtgyId" [(ngModel)]="CommercialDataModel.prdctCtgyId"
                            (selectionChange)="productListData()">
                            <mat-option *ngFor="let item of ReferenceDataModel.productCategoryList | sortBy:'asc':'prdctCtgy'" [value]="item.id"
                            [matTooltip]="item.prdctCtgy | uppercase" matTooltipPosition="above" [matTooltipDisabled]="item.prdctCtgy.length<19"
                            >
                              {{item.prdctCtgy}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <app-validation-msg class="displayBlock" *ngIf="(prductCate.errors?.required && (prductCate.touched || fCommercial.submitted))" [msg]="'Required !'"></app-validation-msg>

                      </div>
                    </div>
                    <div  *ngIf="!CommercialDataModel.lkpChrgByWeight">
                      <div class="col-lg-6 col-md-6 label-text">Packaging Type<span class="redMark"> *</span></div>
                      <div class="col-lg-6 col-md-6 label-text-value">
                        <mat-form-field appearance="outline" style="width: 95%;">
                          <mat-select disableOptionCentering panelClass="creditSelect" #packingType='ngModel' required name="lkpPackTypeId" [(ngModel)]="CommercialDataModel.lkpPackTypeId">
                            <mat-option *ngFor="let item of ReferenceDataModel.packagingTypeList" [value]="item.id">
                              {{item.descr}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <app-validation-msg class="displayBlock" *ngIf="(packingType.errors?.required && (packingType.touched || fCommercial.submitted))" [msg]="'Required !'"></app-validation-msg>

                      </div>
                    </div>
                    <div  *ngIf="!CommercialDataModel.lkpChrgByWeight">
                      <div class="col-lg-6 col-md-6 label-text">Packaging Alias Name<span class="redMark"> *</span></div>
                      <div class="col-lg-6 col-md-6 label-text-value">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 95%;" id="datepick">
                          <input #packigAlias='ngModel'required  matInput  autocomplete="true" placeholder="Default" name="packAlias" [(ngModel)]="CommercialDataModel.packAlias">
                        </mat-form-field>
                        <app-validation-msg class="displayBlock" *ngIf="(packigAlias.errors?.required && (packigAlias.touched || fCommercial.submitted))" [msg]="'Required !'"></app-validation-msg>
                      </div>
                    </div>
                  </div>
                </div>           
     
                <div class="row">
                  <div class="col-lg-4   col-md-4">
                    <div *ngIf="CommercialDataModel.slabFlag==1">
                      <div class="col-lg-6 col-md-6 label-text">Slab Protection Type<span class="redMark"> *</span></div>
                      <div class="col-lg-6 col-md-6 label-text-value">
                        <mat-form-field appearance="outline" id="datepick">
                          <mat-select disableOptionCentering panelClass="creditSelect" #slabProtectionType='ngModel' required name="lkpSlabProtectionId" [(ngModel)]="CommercialDataModel.lkpSlabProtectionId"
                          (selectionChange)="changeSlabProtion()">
                            <mat-option *ngFor="let item of ReferenceDataModel.slabProtectTypeList" [value]="item.id">
                              {{item.descr}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <app-validation-msg  class="displayBlock" *ngIf="(slabProtectionType.errors?.required && (slabProtectionType.touched || fCommercial.submitted))" [msg]="'Required '"></app-validation-msg>

                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4   col-md-4"></div>
                  <div class="col-lg-4   col-md-4"></div>
                </div>
                <div class="col-lg-6 col-md-6  ">
                  <div class="row" >
                    </div>
                  </div>
                <div class="col-lg-2 col-md-2  "></div>
                <div class="col-lg-4 col-md-4  " style="width: 26.333333%;">
                  <div class="col-lg-6 col-md-6"></div>
                  <div class="col-lg-6 col-md-6"></div>
                  <div class="row" >
                  </div>
                </div>
              </div>
            <!-- </div> -->
            <hr id="collapsedivider">
            <!-- Zonal Rate Card -->
            <div >
            <h5 class="zonalheading">Zonal Rate Group (Rate {{quantityOfCharge}} )</h5>

            <form name="zonalSlab" (ngSubmit)="fZonalSlab.form.valid" #fZonalSlab="ngForm" novalidate>
            <div >
              <div class="col-lg-12 col-md-12 commercialSlab-container">
                <div class="row" >
                  <div class="col-lg-1 col-md-1   zonalheadingbar">ZONAL GROUP</div>
                  <div class="col-lg-1 col-md-1   zonalheadingbar" *ngIf="CommercialDataModel.slabFlag==0">RATE</div>
                  <div *ngIf="CommercialDataModel.slabFlag==0" class="col-lg-1 col-md-1   zonalheadingbar">MINIMUM FREIGHT</div>
                  <!-- slab 1 -->
                  <div *ngIf="CommercialDataModel.slabFlag==1">
                    <div class="col-lg-2 col-md-2  " style="width: 15%; padding: 0 !important;"
                      *ngIf="CommercialDataModel.ZonalSlabCounter==1 || CommercialDataModel.ZonalSlabCounter>1">
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1">SLAB</div>
                        </div>
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1" (click)="toggle(zmslabto1)"
                            style="padding: 0 !important;">
                            <input type="number" maxlength="5" autocomplete="true" name="zmslabto1" autocomplete="true"
                              autocomplete="true" class="dropdown" id="zonal-input" disabled placeholder="0-{{zmslabto1}}"
                              *ngIf="!(show)">
                            <div class="dropdown" *ngIf="show">
                              <button class="btn btn-success commercialButton" type="submit" (click)="addSlabVal()">
                                SUBMIT</button>
                            </div>
                          </div>
                          <!-- hover  -->
                          <div class="col-lg-12 col-md-122 hoverDisplay" *ngIf="show">
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 from"><input type="number" maxlength="5"
                                autocomplete="true" name="zmslabfrom1" autocomplete="number" autocomplete="true" id="zonal-input1"
                                readonly placeholder="{{zmslabfrom1}}" [(ngModel)]="zmslabfrom1"></div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 to">To</div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 three"><input type="number" maxlength="5"
                                autocomplete="true" name="zmslabto1" autocomplete="number" autocomplete="true" id="zonal-input1"
                                [(ngModel)]="zmslabto1" min="1"></div>
                          </div>
                          <!-- Hover -->
                        </div>
                      </div>
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>
                        </div>
                      </div>
                    </div>
                    <!-- end slab1 -->
                    <!-- slab2 -->
                    <div class="col-lg-2 col-md-2  " style="width: 15%;padding: 0 !important;"
                      *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1">SLAB</div>
                        </div>
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1" (click)="toggleArray(zmslabto2)"
                            style="padding: 0 !important;">
                            <input name="zmslabfrom2" autocomplete="true" autocomplete="true" maxlength="5" type="number"
                              autocomplete="true" class="dropdown" id="zonal-input" disabled placeholder="{{zmslabfrom2}}-{{zmslabto2}}"
                              *ngIf="!(showArray)">
                            <div class="dropdown" *ngIf="showArray">
                              <button class="btn btn-success commercialButton" type="submit" (click)="addSlabVal2()">SUBMIT</button>
                            </div>
                          </div>
                          <!-- hover  -->
                          <div class="col-lg-12 col-md-122 hoverDisplay" *ngIf="showArray">
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 from"><input maxlength="5" type="number"
                                autocomplete="true" name="zmslabfrom2" autocomplete="number" autocomplete="true" id="zonal-input1"
                                readonly placeholder="{{zmslabfrom2}}" [(ngModel)]="zmslabfrom2"></div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 to">To</div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 three"><input maxlength="5" type="number"
                                autocomplete="true" name="zmslabto2" autocomplete="number" autocomplete="true" id="zonal-input1"
                                [(ngModel)]="zmslabto2" min="{{zmslabfrom2}}"></div>
                          </div>
                          <!--end of hover  -->
                        </div>
                      </div>
                      <div>
                        <div class="col-lg-6 col-md-6  ">
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- slab3 -->
                    <div class="col-lg-2 col-md-2  " style="width: 15%;padding: 0 !important;"
                      *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1">SLAB</div>
                        </div>
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1" (click)="toggleArray2(zmslabto3)"
                            style="padding: 0 !important;">
                            <input name="zmslabfrom3" autocomplete="true" maxlength="5" autocomplete="true" class="dropdown"
                              id="zonal-input" disabled placeholder="{{zmslabfrom3}}-{{zmslabto3}}" *ngIf="!(showArray2)">
                            <div class="dropdown" *ngIf="showArray2">
                              <button class="btn btn-success commercialButton" type="submit" (click)="addSlabVal3()">SUBMIT</button></div>
                          </div>
                          <!-- hover  -->
                          <div class="col-lg-12 col-md-122 hoverDisplay" *ngIf="showArray2">
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 from"><input maxlength="5" type="number"
                                name="zmslabfrom3" autocomplete="number" autocomplete="true" id="zonal-input1" readonly
                                placeholder="{{zmslabfrom3}}" [(ngModel)]="zmslabfrom3"></div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 to">To</div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 three"><input maxlength="5" type="number"
                                name="zmslabto3" autocomplete="number" autocomplete="true" id="zonal-input1" [(ngModel)]="zmslabto3"
                                min="{{zmslabfrom3}}"></div>
                          </div>
                          <!--end of hover  -->
                        </div>
                      </div>
                  
                      <div>
                        <div class="col-lg-6 col-md-6  ">
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  
                    <!-- <slab 4 starts here> -->
                    <div class="col-lg-2 col-md-2  " style="width: 15%;padding: 0 !important;"
                      *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1">SLAB</div>
                        </div>
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1" (click)="toggleArray3(zmslabto4)"
                            style="padding: 0 !important;">
                            <input name="zmslabfrom4" autocomplete="true" maxlength="5" autocomplete="true" class="dropdown"
                              id="zonal-input" disabled placeholder="{{zmslabfrom4}}-{{zmslabto4}}" *ngIf="!(showArray3)">
                            <div class="dropdown" *ngIf="showArray3">
                              <button class="btn btn-success commercialButton" type="submit" (click)="addSlabVal4()">SUBMIT</button></div>
                          </div>
                          <!-- hover  -->
                          <div class="col-lg-12 col-md-122 hoverDisplay" *ngIf="showArray3">
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 from"><input maxlength="5" type="number"
                                name="zmslabfrom4" autocomplete="number" autocomplete="true" id="zonal-input1" readonly
                                placeholder="{{zmslabfrom4}}" [(ngModel)]="zmslabfrom4"></div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 to">To</div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 three"><input maxlength="5" type="number"
                                name="zmslabto4" autocomplete="number" autocomplete="true" id="zonal-input1" [(ngModel)]="zmslabto4"
                                min="{{zmslabfrom4}}" ></div>
                          </div>
                          <!--end of hover  -->
                        </div>
                      </div>
                  
                      <div>
                        <div class="col-lg-6 col-md-6  ">
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  
                    <!-- <slab 4 ends here > -->

                    <!-- <slab 5 starts here> -->
                    <div class="col-lg-2 col-md-2  " style="width: 15%;padding: 0 !important;"
                      *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1">SLAB</div>
                        </div>
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 zonalheadingbar1" (click)="toggleArray4(zmslabto5)"
                            style="padding: 0 !important;">
                            <input name="zmslabfrom5" autocomplete="true" maxlength="5" autocomplete="true" class="dropdown"
                              id="zonal-input" disabled placeholder="{{zmslabfrom5}}-{{zmslabto5}}" *ngIf="!(showArray4)">
                            <div class="dropdown" *ngIf="showArray4">
                              <button class="btn btn-success commercialButton" type="submit" (click)="addSlabVal5()">SUBMIT</button></div>
                          </div>
                          <!-- hover  -->
                          <div class="col-lg-12 col-md-122 hoverDisplay" *ngIf="showArray4">
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 from"><input maxlength="5" type="number"
                                name="zmslabfrom5" autocomplete="number" autocomplete="true" id="zonal-input1" readonly
                                placeholder="{{zmslabfrom5}}" [(ngModel)]="zmslabfrom5"></div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 to">To</div>
                            <div class="col-lg-4 col-md-4   zonalheadingbar1 three"><input maxlength="5" type="number"
                                name="zmslabto5" autocomplete="number" autocomplete="true" id="zonal-input1" [(ngModel)]="zmslabto5"
                                min="{{zmslabfrom5}}" max="99999"></div>
                          </div>
                          <!--end of hover  -->
                        </div>
                      </div>
                  
                      <div>
                        <div class="col-lg-6 col-md-6  ">
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  
                    <!-- <slab 5 ends here > -->
                  </div>

                <!-- Zonal Rate Add Icon -->
                <div *ngIf="!(CommercialDataModel.stopZonalSlab)">
                  <div class="col-lg-1 col-md-1   zonalheadingbar"  style="width: 4%;"
                    *ngIf="CommercialDataModel.slabFlag==1">
                    <button mat-icon-button id="plusicon1" [disabled]="!fZonalSlab.form.valid"
                      (click)="addFieldColumn()">
                      <mat-icon class="text-center">add_circle</mat-icon>
                    </button>
                  </div>
                </div>
                  
                </div>
              </div>
            </div>


            <div>
              <div class=" margintop10 col-lg-12 col-md-12 commercialSlab-container"
                *ngFor="let item of CommercialDataModel.zmPrice; let i = index">
                <div class="row">
                  <div class="col-lg-1 col-md-1   label-text">{{item.name}}</div>
                  <div class="col-lg-1 col-md-1   commercial-padding" *ngIf="CommercialDataModel.slabFlag==0">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input required #priceOne='ngModel' appGreaterZero matInput autocomplete="true" [(ngModel)]="item.price"
                        numeric decimals="2" maxlength={{maxLength}} name="priceOne-{{i}}">
                    </mat-form-field>
                    <span *ngIf="(priceOne.errors?.required && (priceOne.touched || fCommercial.submitted))" class="hasErrorMsg">
                      <em>Required !</em>
                    </span>
                    <span
                      *ngIf="(((priceOne.errors?.greaterZero) || ((priceOne.errors?.greaterZero) && fCommercial.submitted)) && (!priceOne.errors?.required))"
                      class="hasErrorMsg">
                      <em>Greater Than 0!</em>
                    </span>
                  </div>
                  <div *ngIf="CommercialDataModel.slabFlag==0" class="col-lg-1 col-md-1  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input required #minFreightOne='ngModel' appGreaterZero matInput autocomplete="true"
                        [(ngModel)]="item.minFreight" numeric decimals="2" maxlength="10" name="minFreightOne-{{i}}">
                    </mat-form-field>
                    <span *ngIf="(minFreightOne.errors?.required && (minFreightOne.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required !</em>
                    </span>
                    <span
                      *ngIf="(((minFreightOne.errors?.greaterZero) || ((minFreightOne.errors?.greaterZero) && fCommercial.submitted)) && (!minFreightOne.errors?.required))"
                      class="hasErrorMsg">
                      <em>Greater Than 0!</em>
                    </span>
                  </div>
                  <!-- <----slab 1 ----->
                  <div *ngIf="CommercialDataModel.slabFlag==1">

                    <div class="col-lg-2 col-md-2  " style="width: 15%;"
                      *ngIf="CommercialDataModel.ZonalSlabCounter==1 || CommercialDataModel.ZonalSlabCounter>1">
            
                      <!-- Zonal Slab Required Field-->
                      <div class="col-lg-6 col-md-6   commercial-padding">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input matInput autocomplete="true" appGreaterZero #slabPrice1='ngModel' required [(ngModel)]="item.price"
                            name="slabPrice1-{{i}}" numeric decimals="2" maxlength={{maxLength}}>
                        </mat-form-field>
                        <span *ngIf="(slabPrice1.errors?.required && (slabPrice1.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span
                          *ngIf="(((slabPrice1.errors?.greaterZero) || ((slabPrice1.errors?.greaterZero) && fCommercial.submitted)) && (!slabPrice1.errors?.required))"
                          class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 commercial-padding">
                            <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                              <input matInput autocomplete="true" appGreaterZero #slabMinAmt1='ngModel' required
                                [(ngModel)]="item.minFreight" name="slabMinAmt1-{{i}}" numeric decimals="2"
                                (input)="updateZmPriceMinF()" maxlength="9">
                            </mat-form-field>
                            <span *ngIf="(slabMinAmt1.errors?.required && (slabMinAmt1.touched || fCommercial.submitted))"
                              class="hasErrorMsg">
                              <em>Required!</em>
                            </span>
                            <span
                              *ngIf="(((slabMinAmt1.errors?.greaterZero) || ((slabMinAmt1.errors?.greaterZero) && fCommercial.submitted)) && (!slabMinAmt1.errors?.required))"
                              class="hasErrorMsg">
                              <em>Greater Than 0!</em>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>

                  <!-- <----slab----->
                    <div class="col-lg-2 col-md-2  " style="width: 15%;"
                      *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
            
                      <!-- Zonal Slab Required Field -->
                      <div class="col-lg-6 col-md-6   commercial-padding">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input matInput autocomplete="true" appGreaterZero #slabPrice2='ngModel' required
                            [(ngModel)]="item.price2" name="price2-{{i}}" numeric decimals="2" maxlength={{maxLength}}>
                        </mat-form-field>
                        <span *ngIf="(slabPrice2.errors?.required && (slabPrice2.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span
                          *ngIf="(((slabPrice2.errors?.greaterZero) || ((slabPrice2.errors?.greaterZero) && fCommercial.submitted)) && (!slabPrice2.errors?.required))"
                          class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 commercial-padding">
                            <mat-form-field  appearance="outline" style="height: 2.7rem; width: 100%;">
                              <input matInput autocomplete="true" appGreaterZero #slabMinAmt2='ngModel' required
                                [(ngModel)]="item.minFreight2" name="minFreight2-{{i}}" numeric decimals="2"
                                [disabled]="isOptionBSelected" maxlength="10">
                            </mat-form-field>
                            <span *ngIf="(slabMinAmt2.errors?.required && (slabMinAmt2.touched || fCommercial.submitted))"
                              class="hasErrorMsg">
                              <em>Required!</em>
                            </span>
                            <span
                              *ngIf="(((slabMinAmt2.errors?.greaterZero) || ((slabMinAmt2.errors?.greaterZero) && fCommercial.submitted)) && (!slabMinAmt2.errors?.required))"
                              class="hasErrorMsg">
                              <em>Greater Than 0!</em>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>

                  <!-- <----slab 3 ----->
                    <div class="col-lg-2 col-md-2  " style="width: 15%;" *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
            
                      <!-- Zonal Slab Required Field -->
                      <div class="col-lg-6 col-md-6   commercial-padding">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input matInput autocomplete="true" appGreaterZero #slabPrice3='ngModel' required
                            [(ngModel)]="item.price3" name="price3-{{i}}" numeric decimals="2" maxlength={{maxLength}}>
                        </mat-form-field>
                        <span *ngIf="(slabPrice3.errors?.required && (slabPrice3.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span
                          *ngIf="(((slabPrice3.errors?.greaterZero) || ((slabPrice3.errors?.greaterZero) && fCommercial.submitted)) && (!slabPrice3.errors?.required))"
                          class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
                      <div class="col-lg-6 col-md-6  ">
                        <div class="row" id="contentInside">
                          <div class="col-lg-12 col-md-12 commercial-padding">
                            <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                              <input matInput autocomplete="true" appGreaterZero #slabMinAmt3='ngModel' required
                                [(ngModel)]="item.minFreight3" name="minFreight3-{{i}}" numeric decimals="2"
                                [disabled]="isOptionBSelected" maxlength="10">
                            </mat-form-field>
                            <span *ngIf="(slabMinAmt3.errors?.required && (slabMinAmt3.touched || fCommercial.submitted))"
                              class="hasErrorMsg">
                              <em>Required!</em>
                            </span>
                            <span
                              *ngIf="(((slabMinAmt3.errors?.greaterZero) || ((slabMinAmt3.errors?.greaterZero) && fCommercial.submitted)) && (!slabMinAmt3.errors?.required))"
                              class="hasErrorMsg">
                              <em>Greater Than 0!</em>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- <slab 4 starts here > -->

                      <div class="col-lg-2 col-md-2  " style="width: 15%;" *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
            
                        <!-- Zonal Slab Required Field -->
                        <div class="col-lg-6 col-md-6   commercial-padding">
                          <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input matInput autocomplete="true" appGreaterZero #slabPrice4='ngModel' required
                              [(ngModel)]="item.price4" name="price4-{{i}}" numeric decimals="2" maxlength={{maxLength}}>
                          </mat-form-field>
                          <span *ngIf="(slabPrice4.errors?.required && (slabPrice4.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span
                            *ngIf="(((slabPrice4.errors?.greaterZero) || ((slabPrice4.errors?.greaterZero) && fCommercial.submitted)) && (!slabPrice4.errors?.required))"
                            class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                        </div>
                        <div class="col-lg-6 col-md-6  ">
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 commercial-padding">
                              <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                                <input matInput autocomplete="true" appGreaterZero #slabMinAmt4='ngModel' required
                                  [(ngModel)]="item.minFreight4" name="minFreight4-{{i}}" numeric decimals="2"
                                  [disabled]="isOptionBSelected" maxlength="10">
                              </mat-form-field>
                              <span *ngIf="(slabMinAmt4.errors?.required && (slabMinAmt4.touched || fCommercial.submitted))"
                                class="hasErrorMsg">
                                <em>Required!</em>
                              </span>
                              <span
                                *ngIf="(((slabMinAmt4.errors?.greaterZero) || ((slabMinAmt4.errors?.greaterZero) && fCommercial.submitted)) && (!slabMinAmt4.errors?.required))"
                                class="hasErrorMsg">
                                <em>Greater Than 0!</em>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>

                    <!-- <slab 4 ends here > -->



                    <!-- <slab 5 starts here > -->

                      
                      <div class="col-lg-2 col-md-2  " style="width: 15%;" *ngIf="CommercialDataModel.ZonalSlabCounter==5">
            
                        <!-- Zonal Slab Required Field -->
                        <div class="col-lg-6 col-md-6   commercial-padding">
                          <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input matInput autocomplete="true" appGreaterZero #slabPrice5='ngModel' required
                              [(ngModel)]="item.price5" name="price5-{{i}}" numeric decimals="2" maxlength={{maxLength}}>
                          </mat-form-field>
                          <span *ngIf="(slabPrice5.errors?.required && (slabPrice5.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span
                            *ngIf="(((slabPrice5.errors?.greaterZero) || ((slabPrice5.errors?.greaterZero) && fCommercial.submitted)) && (!slabPrice5.errors?.required))"
                            class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                        </div>
                        <div class="col-lg-6 col-md-6  ">
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 commercial-padding">
                              <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                                <input matInput autocomplete="true" appGreaterZero #slabMinAmt5='ngModel' required
                                  [(ngModel)]="item.minFreight5" name="minFreight5-{{i}}" numeric decimals="2" maxlength="10"
                                  [disabled]="isOptionBSelected">
                              </mat-form-field>
                              <span *ngIf="(slabMinAmt5.errors?.required && (slabMinAmt5.touched || fCommercial.submitted))"
                                class="hasErrorMsg">
                                <em>Required!</em>
                              </span>
                              <span
                                *ngIf="(((slabMinAmt5.errors?.greaterZero) || ((slabMinAmt5.errors?.greaterZero) && fCommercial.submitted)) && (!slabMinAmt5.errors?.required))"
                                class="hasErrorMsg">
                                <em>Greater Than 0!</em>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>

                    <!-- <slab 4 ends here > -->


                  </div>
                  <!-- end slab-->
                </div>
              </div>
            </div>
          </form>
        </div>
           
            
            <!-- Custom Rate Master -->
                <!-- Custom Rate Mapping Add Icon -->
                <div class="col-md-12 paddingleftzero paddingtopthree" style="padding-bottom: 3rem !important;">
                  <h5 class="zonalheading">Custom Rate Mapping
                  <button [disabled]="!fRateMapping.form.valid" mat-icon-button (click)="customRateGroup(); changeSlabProtion()" id="plusicon2" mat-card-avatar aria-label="Example icon">
                    <mat-icon >add_circle</mat-icon>
                  </button>
                </h5>
                <form name="rateMapping" (ngSubmit)="fRateMapping.form.valid" #fRateMapping="ngForm" novalidate 
                [ngClass]="CommercialDataModel.slabFlag==1 ? 'customScroll' : 'customScrollHide'">
            <div *ngIf="this.CommercialDataModel.zmCustomPrice.length>0">
              <div class="col-lg-12 col-md-12 commercialSlab-container"
                style="font-size: 1.5rem; padding-left: 0;"
                [ngClass]="CommercialDataModel.slabFlag==1 ? 'customeWidth' : 'customeMaxWidth'">
                <div class="col-lg-1 col-md-1 zonalheadingbar slab_width1">FROM TYPE</div>
                <div class="col-lg-1 col-md-1 zonalheadingbar slab_width1">TO TYPE</div>
                <div class="col-lg-1 col-md-1 zonalheadingbar slab_width1">FROM</div>
                <div class="col-lg-1 col-md-1 zonalheadingbar slab_width1">TO</div>
                <div class="col-lg-1 col-md-1 zonalheadingbar slab_width" *ngIf="CommercialDataModel.slabFlag==0">RATE</div>
                <div class="col-lg-1 col-md-1 zonalheadingbar slab_width" *ngIf="CommercialDataModel.slabFlag==0">MIN FREIGHT</div>
                <div *ngIf="CommercialDataModel.slabFlag==1">
              <div>
                <div class="col-lg-1 col-md-1   flex-direction slab_width" style="padding: 0 !important;">  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                    <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                      <input name="zmslabfrom1" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom1}}-{{zmslabto1}}"> 
                      <div class="dropdown"></div>
                      </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1   slab_width">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              <div style="padding: 0 !important;" *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                <div class="col-lg-1 col-md-1   flex-direction slab_width">  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                                <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                  <input name="zmslabfrom2" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom2}}-{{zmslabto2}}"> 
                                  <div class="dropdown"></div>
                                  </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1   slab_width">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              <div style="padding: 0 !important;" *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                <div class="col-lg-1 col-md-1   flex-direction slab_width">  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                                <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                  <input name="zmslabfrom3" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom3}}-{{zmslabto3}}"> 
                                  <div class="dropdown"></div>
                                  </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1   slab_width">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              <div style="padding: 0 !important;" *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                <div class="col-lg-1 col-md-1   flex-direction slab_width">  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                                <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                  <input name="zmslabfrom4" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom4}}-{{zmslabto4}}"> 
                                  <div class="dropdown"></div>
                                  </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1   slab_width">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              <div style="padding: 0 !important;" *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                <div class="col-lg-1 col-md-1   flex-direction slab_width">  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                                <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                  <input name="zmslabfrom5" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom5}}-{{zmslabto5}}"> 
                                  <div class="dropdown"></div>
                                  </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1   slab_width">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              </div>  
              </div>
            </div>

                <!-- Custom Rate Mapping Required Fields -->
            <div *ngFor="let field of CommercialDataModel.zmCustomPrice; let i = index">
              <div class="col-lg-12 col-md-12 margintop commercialSlab-container" [ngClass]="CommercialDataModel.slabFlag==1 ? 'customeWidth' : 'customeMaxWidth'">
                <div class="col-lg-1 col-md-1   slab_width1">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" #lkpSrcTypeId='ngModel' required  [(ngModel)]="field.lkpSrcTypeId" name="lkpSrcTypeId-{{i}}" (selectionChange)="addrByaddrType('src',field)">
                      <mat-option *ngFor="let item of ReferenceDataModel.srcDestList" [value]="item.id">
                        {{item.descr}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <span *ngIf="(lkpSrcTypeId.errors?.required && (lkpSrcTypeId.touched || fCommercial.submitted))"
                    class="hasErrorMsg">
                    <em>Required!</em>
                  </span>
                </div>
                <div class="col-lg-1 col-md-1   slab_width1">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <mat-select disableOptionCentering panelClass="creditSelect" #lkpDestTypeId='ngModel' required  [(ngModel)]="field.lkpDestTypeId" name="lkpDestTypeId-{{i}}" (selectionChange)="addrByaddrType('dest',field)">
                          <mat-option *ngFor="let item of ReferenceDataModel.srcDestList" [value]="item.id">
                            {{item.descr}}
                          </mat-option>
                        </mat-select>
                  </mat-form-field>
                  <span *ngIf="(lkpDestTypeId.errors?.required && (lkpDestTypeId.touched || fCommercial.submitted))"
                    class="hasErrorMsg">
                    <em>Required!</em>
                  </span>
                </div>
                <!-- for source -->
                <div class="col-lg-1 col-md-1   slab_width1" *ngIf="!(field.lkpSrcTypeId)">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" #srcId='ngModel' required [(ngModel)]="field.srcId" name="srcId-{{i}}" >
                      <mat-option *ngFor="let item of stateAddr | sortBy:'asc':'stateName'" [value]="item.id">
                        {{item.stateName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field> 
                  <span *ngIf="(srcId.errors?.required && (srcId.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>                              
              </div>
                <div class="col-lg-1 col-md-1   slab_width1" *ngIf="field.lkpSrcTypeName=='STATE'">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <mat-select disableOptionCentering panelClass="creditSelect" #srcId='ngModel' required [(ngModel)]="field.srcId" name="srcId-{{i}}" >
                            <mat-option *ngFor="let item of stateAddr | sortBy:'asc':'stateName'" [value]="item.id">
                              {{item.stateName}}
                            </mat-option>
                          </mat-select>
                    </mat-form-field>
                    <span *ngIf="(srcId.errors?.required && (srcId.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                </div>
                <div class="col-lg-1 col-md-1   slab_width1" *ngIf="field.lkpSrcTypeName=='DISTRICT'">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <mat-select disableOptionCentering panelClass="creditSelect" #srcId='ngModel' required [(ngModel)]="field.srcId" name="srcId-{{i}}"  >
                          <mat-option *ngFor="let item of districtAddr | sortBy:'asc':'districtName'" [value]="item.id">
                            {{item.districtName}}
                          </mat-option>
                        </mat-select>
                  </mat-form-field>
                  <span *ngIf="(srcId.errors?.required && (srcId.touched || fCommercial.submitted))"
                    class="hasErrorMsg">
                    <em>Required!</em>
                  </span>
              </div>
              <div class="col-lg-1 col-md-1   slab_width1" *ngIf="field.lkpSrcTypeName=='CITY'">
                <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" #srcId='ngModel' required [(ngModel)]="field.srcId" name="srcId-{{i}}" >
                        <mat-option *ngFor="let item of cityAdrr | sortBy:'asc':'cityName'" [value]="item.id">
                          {{item.cityName}}
                        </mat-option>
                      </mat-select>
                </mat-form-field>
                <span *ngIf="(srcId.errors?.required && (srcId.touched || fCommercial.submitted))"
                  class="hasErrorMsg">
                  <em>Required!</em>
                </span>
            </div>
            <div class="col-lg-1 col-md-1   slab_width1" *ngIf="field.lkpSrcTypeName=='PINCODE'">

                  <a style="cursor: pointer;" (click)="openDialogPincodeSearch(field,'srcId',false)">
                    <span class="fa fa-search fa-lg" id="search-icon" style="left: 1rem !important;"></span>
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input class="pincode_input" #srcId='ngModel' required matInput  autocomplete="true" [(ngModel)]="field.srcId" 
                       name="srcId-{{i}}" (keydown.enter)="openDialogPincodeSearch(field,'srcId',false)" readonly>
                    </mat-form-field>
                    <span *ngIf="(srcId.errors?.required && (srcId.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                  </a>
              </div>

                <!-- for destination -->
                <div class="col-lg-1 col-md-1   slab_width1" *ngIf="!(field.lkpDestTypeId)">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" #destId='ngModel' required [(ngModel)]="field.destId" name="destId-{{i}}" >
                      <mat-option *ngFor="let item of stateAddr" [value]="item.id">
                        {{item.stateName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <span *ngIf="(destId.errors?.required && (destId.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
              </div>
                <div class="col-lg-1 col-md-1   slab_width1" *ngIf="field.lkpDestTypeName=='STATE'">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <mat-select disableOptionCentering panelClass="creditSelect" #destId='ngModel' required [(ngModel)]="field.destId" name="destId-{{i}}" >
                            <mat-option *ngFor="let item of stateAddr | sortBy:'asc':'stateName'" [value]="item.id">
                              {{item.stateName}}
                            </mat-option>
                          </mat-select>
                    </mat-form-field>
                    <span *ngIf="(destId.errors?.required && (destId.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                </div>
                <div class="col-lg-1 col-md-1   slab_width1" *ngIf="field.lkpDestTypeName=='DISTRICT'">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <mat-select disableOptionCentering panelClass="creditSelect" #destId1='ngModel' required [(ngModel)]="field.destId" name="destId-{{i}}">
                          <mat-option *ngFor="let item of districtAddr | sortBy:'asc':'districtName'" [value]="item.id">
                            {{item.districtName}}
                          </mat-option>
                        </mat-select>
                  </mat-form-field>
                  <span *ngIf="(destId1.errors?.required && (destId1.touched || fCommercial.submitted))"
                    class="hasErrorMsg">
                    <em>Required!</em>
                  </span>
              </div>
              <div class="col-lg-1 col-md-1   slab_width1" *ngIf="field.lkpDestTypeName=='CITY'">
                <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" #destId='ngModel' required [(ngModel)]="field.destId" name="destId-{{i}}">
                        <mat-option *ngFor="let item of cityAdrr | sortBy:'asc':'cityName'" [value]="item.id">
                          {{item.cityName}}
                        </mat-option>
                      </mat-select>
                </mat-form-field>
                <span *ngIf="(destId.errors?.required && (destId.touched || fCommercial.submitted))"
                  class="hasErrorMsg">
                  <em>Required!</em>
                </span>
            </div>
               
                <div class="col-lg-1 col-md-1   slab_width1"  *ngIf="field.lkpDestTypeName=='PINCODE'">

                        <a style="cursor: pointer;" (click)="openDialogPincodeSearch(field,'destId',false)">
                          <span class="fa fa-search fa-lg" id="search-icon" style="left: 1rem !important;"></span>
                          <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input class="pincode_input" #destId='ngModel' required matInput  autocomplete="true" [(ngModel)]="field.destId" 
                            name="destId-{{i}}" (keydown.enter)="openDialogPincodeSearch(field,'destId',false)" readonly>
                          </mat-form-field>
                          <span *ngIf="(destId.errors?.required && (destId.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                        </a>
                    </div>
                    <div *ngIf="CommercialDataModel.slabFlag==0">
                      <div class="col-lg-1 col-md-1   slab_width">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #crmPrice='ngModel' appGreaterZero required name="price-{{i}}" numeric matInput  autocomplete="true" [(ngModel)]="field.price" decimals="2" maxlength={{maxLength}}>
                        </mat-form-field>
                        <span *ngIf="(crmPrice.errors?.required && (crmPrice.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((crmPrice.errors?.greaterZero) || ((crmPrice.errors?.greaterZero) && fCommercial.submitted)) && (!crmPrice.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
                      <div class="col-lg-1 col-md-1   slab_width">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #crmMinFreight='ngModel'  appGreaterZero required name="minFreight-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.minFreight" numeric maxlength="10" decimals="2">
                        </mat-form-field>
                        <span *ngIf="(crmMinFreight.errors?.required && (crmMinFreight.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((crmMinFreight.errors?.greaterZero) || ((crmMinFreight.errors?.greaterZero) && fCommercial.submitted)) && (!crmMinFreight.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                          <em>Greater Than 0!</em>
                        </span>
                      </div> 
                    </div>

                  <div *ngIf="CommercialDataModel.slabFlag==1">
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==1 || CommercialDataModel.ZonalSlabCounter>1">
                    <!-- Slab 1 -->
                    <div class="col-lg-1 col-md-1   slab_width">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #crmPrice1='ngModel' required appGreaterZero name="price-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.price"  numeric maxlength={{maxLength}} decimals="2">
                        </mat-form-field>
                        <span *ngIf="(crmPrice1.errors?.required && (crmPrice1.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((crmPrice1.errors?.greaterZero) || ((crmPrice1.errors?.greaterZero) && fCommercial.submitted)) && (!crmPrice1.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1   slab_width">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input #crmMinFreight1='ngModel' required appGreaterZero name="minFreight-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.minFreight"  numeric  maxlength="10" decimals="2"
                        (input)="updateZmCustomPriceMinF()">
                      </mat-form-field>
                      <span *ngIf="(crmMinFreight1.errors?.required && (crmMinFreight1.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((crmMinFreight1.errors?.greaterZero) || ((crmMinFreight1.errors?.greaterZero) && fCommercial.submitted)) && (!crmMinFreight1.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
                    <!-- Slab 1 -->
                  </div>

                <div  *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                  <!-- Slab-->
                  <div class="col-lg-1 col-md-1   slab_width">
                    <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input #crmPrice2='ngModel' required appGreaterZero name="price2-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.price2"  numeric maxlength={{maxLength}} decimals="2">
                      </mat-form-field>
                      <span *ngIf="(crmPrice2.errors?.required && (crmPrice2.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((crmPrice2.errors?.greaterZero) || ((crmPrice2.errors?.greaterZero) && fCommercial.submitted)) && (!crmPrice2.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                        <em>Greater Than 0!</em>
                      </span>
                  </div>
                  <div class="col-lg-1 col-md-1   slab_width">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input #crmMinFreight2='ngModel' required appGreaterZero name="minFreight2-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.minFreight2"  maxlength="10" numeric decimals="2"
                      [disabled]="isOptionBSelected">
                    </mat-form-field>
                    <span *ngIf="(crmMinFreight2.errors?.required && (crmMinFreight2.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                    <span *ngIf="(((crmMinFreight2.errors?.greaterZero) || ((crmMinFreight2.errors?.greaterZero) && fCommercial.submitted)) && (!crmMinFreight2.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                      <em>Greater Than 0!</em>
                    </span>
                  </div>
                  <!-- Slab-->
                </div>

                <div  *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                  <!-- Slab 3 -->
                  <div class="col-lg-1 col-md-1   slab_width">
                    <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input #crmPricethree='ngModel' required appGreaterZero name="price3-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price3"  numeric maxlength={{maxLength}} decimals="2">
                      </mat-form-field>
                      <span *ngIf="(crmPricethree.errors?.required && (crmPricethree.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((crmPricethree.errors?.greaterZero) || ((crmPricethree.errors?.greaterZero) && fCommercial.submitted)) && (!crmPricethree.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                        <em>Greater Than 0!</em>
                      </span>
                  </div>
                  <div class="col-lg-1 col-md-1   slab_width">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input #crmMinFreightthree='ngModel' required appGreaterZero name="minFreight3-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minFreight3"  numeric maxlength="10" decimals="2"
                      [disabled]="isOptionBSelected">
                    </mat-form-field>
                    <span *ngIf="(crmMinFreightthree.errors?.required && (crmMinFreightthree.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                    <span *ngIf="(((crmMinFreightthree.errors?.greaterZero) || ((crmMinFreightthree.errors?.greaterZero) && fCommercial.submitted)) && (!crmMinFreightthree.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                      <em>Greater Than 0!</em>
                    </span>
                  </div>
                  <!-- Slab 3 -->
                </div>
                
                <!-- <slab 4 starts here> -->

                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                    <!-- Slab 3 -->
                    <div class="col-lg-1 col-md-1   slab_width">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #crmPriceFour='ngModel' required appGreaterZero name="price4-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price4"  numeric maxlength={{maxLength}} decimals="2">
                        </mat-form-field>
                        <span *ngIf="(crmPriceFour.errors?.required && (crmPriceFour.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((crmPriceFour.errors?.greaterZero) || ((crmPriceFour.errors?.greaterZero) && fCommercial.submitted)) && (!crmPriceFour.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1   slab_width">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input #crmMinFreightfour='ngModel' required appGreaterZero name="minFreight4-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minFreight4"  numeric maxlength="10" decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(crmMinFreightfour.errors?.required && (crmMinFreightfour.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((crmMinFreightfour.errors?.greaterZero) || ((crmMinFreightfour.errors?.greaterZero) && fCommercial.submitted)) && (!crmMinFreightfour.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
                  </div>

                <!-- <slab 4 ends here > -->
                <!-- <slab 5 starts here> -->

                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                    <!-- Slab 3 -->
                    <div class="col-lg-1 col-md-1   slab_width">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #crmPriceFive='ngModel' required appGreaterZero name="price5-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price5"  numeric maxlength={{maxLength}} decimals="2">
                        </mat-form-field>
                        <span *ngIf="(crmPriceFive.errors?.required && (crmPriceFive.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((crmPriceFive.errors?.greaterZero) || ((crmPriceFive.errors?.greaterZero) && fCommercial.submitted)) && (!crmPriceFive.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1   slab_width">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input #crmMinFreightFive='ngModel' required appGreaterZero name="minFreight5-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minFreight5"  numeric maxlength="10" decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(crmMinFreightFive.errors?.required && (crmMinFreightFive.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((crmMinFreightFive.errors?.greaterZero) || ((crmMinFreightFive.errors?.greaterZero) && fCommercial.submitted)) && (!crmMinFreightFive.errors?.required))" class="hasErrorMsg" style="font-size: smaller;">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
                  </div>

                <!-- <slab 5 ends here > -->

              </div>
              <div class="col-lg-1 col-md-1 " style="width: 0px !important;"> <span *ngIf ="field.deleteicon" ><i class="material-icons" (click)="deleteCustomRM(field, i)" style="cursor: pointer;color: #27AE60;">delete</em></span></div>
              </div>
            </div>
            </form></div>

            <hr id="collapsedivider">
            <div class="row" >
              <!-- <div class="col-lg-4 col-md-4  "> -->
                <div class="col-lg-2 col-md-2   label-text ">
                  <!-- <div class="col-lg-12 col-md-12 label-text" style="padding: 0 !important;"> -->
                    Safextension Applicable<span class="redMark"> *</span></div>
                <!-- </div> -->
                <div class="col-lg-5 col-md-5   ">             
                    <mat-radio-group style="padding-left: 1rem !important;" *ngFor="let season of gst" class="example-radio-group"
                      name="safextFlag" [(ngModel)]="CommercialDataModel.safextFlag" (change)="createDlvrBkgList()">
                      <mat-radio-button class="example-radio-button" [value]="season.id">
                        {{season.value}}
                      </mat-radio-button>
                    </mat-radio-group>
                </div>
              <!-- </div> -->
            </div>
            <div *ngIf="CommercialDataModel.safextFlag==1">
            <div class="row" >
                <div class="col-lg-2 col-md-2   label-text">
                    Safextension Charges</div>
                <!-- </div> -->
                <div class="col-lg-5 col-md-5  ">
                  <div class="col-lg-3 col-md-3  " style="padding-left: 1.0rem !important;">
                    <mat-checkbox name="deliveryFlag" #dlivry='ngModel' [(checked)]='CommercialDataModel.deliveryFlag' [value]="DILIVERY"  
                    [(ngModel)]="CommercialDataModel.deliveryFlag">
                      <span class="service-fonts-checkbox">DELIVERY</span></mat-checkbox>
                  </div>
                  <div class="col-lg-3 col-md-3 ">
                    <mat-checkbox name="bookingFlag" #booking1='ngModel' [(checked)]='CommercialDataModel.bookingFlag' [value]="BOOKING"  
                    [(ngModel)]="CommercialDataModel.bookingFlag">
                      <span class="service-fonts-checkbox">BOOKING</span></mat-checkbox>
                  </div>
                  <!-- <app-validation-msg *ngIf='!CommercialDataModel.deliveryFlag && !CommercialDataModel.bookingFlag' [msg]="'Required !'"></app-validation-msg> -->
                </div>
            </div>

            <div class="row" style="margin-top: 0rem;">
                <div class="col-lg-2 col-md-2 label-text">
                    Safextension Type<span class="redMark"> *</span></div>
                <div class="col-lg-5 col-md-5">
                    <mat-radio-group style="padding-left: 1rem !important;" *ngFor="let season of ReferenceDataModel.safexLevelList" class="example-radio-group"
                    name="safeextTypeFlag" [(ngModel)]="CommercialDataModel.safeextTypeFlag" (change)="getListPinState()">
                    <mat-radio-button class="example-radio-button" [value]="season.id">
                      {{season.descr}}
                    </mat-radio-button>
                  </mat-radio-group>
                  </div>
              </div>    
            <!-- Safextension Delivery Charges -->
                <div *ngIf="CommercialDataModel.deliveryFlag">
              <h5 class="zonalheading" style="padding-top: 2rem;">Safextension Delivery Charges</h5>
              <div class="row" >
                <div class="col-lg-12 col-md-12">
                  <div class="col-lg-2 col-md-2   zonalheadingbar">GROUP</div>
                  <div class="col-lg-1 col-md-1   zonalheadingbar" *ngIf="CommercialDataModel.slabFlag==0">RATE PER KG</div>           
                  <div class="col-lg-1 col-md-1   zonalheadingbar" *ngIf="CommercialDataModel.slabFlag==0">MINIMUM AMOUNT</div>
           <div *ngIf="CommercialDataModel.slabFlag==1">
              <div *ngIf="CommercialDataModel.ZonalSlabCounter==1 || CommercialDataModel.ZonalSlabCounter>1">
                <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                  <!-- hover  -->
                    <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                      <input name="zmslabfrom1" numeric  decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom1}}-{{zmslabto1}}"> 
                      <div class="dropdown"></div>
                      </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1  ">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              <div *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                                <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                  <input name="zmslabfrom2" numeric  decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom2}}-{{zmslabto2}}"> 
                                  <div class="dropdown"></div>
                                  </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              <div *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                                <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                  <input name="zmslabfrom3" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom3}}-{{zmslabto3}}"> 
                                  <div class="dropdown"></div>
                                  </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              <div *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                                <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                  <input name="zmslabfrom4" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom4}}-{{zmslabto4}}"> 
                                  <div class="dropdown"></div>
                                  </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>
              <div *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                  <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                <!-- hover  -->
                                <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                  <input name="zmslabfrom5" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom5}}-{{zmslabto5}}"> 
                                  <div class="dropdown"></div>
                                  </div>
                    <!-- Hover -->
                </div>
                <div>
                  <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                    <div class="row" id="contentInside">
                      <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                    </div>                                 
                  </div> 
                  </div>
              </div>

              </div>
            </div>
          </div>

              <div class="row margintop10" *ngFor="let field of CommercialDataModel.safextCharge; let i = index" >
                <div *ngIf="field.safextCtgy=='DELIVERY'">
                <div class="col-lg-12 col-md-12  ">
                  <div class="col-lg-2 col-md-2   label-text"> {{field.groupName}}</div>  
                  <div *ngIf="CommercialDataModel.slabFlag==0">
                  <div class="col-lg-1 col-md-1  " >
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input required #dcprice='ngModel' appGreaterZero matInput  autocomplete="true" name="price-{{i}}" [(ngModel)]="field.price" numeric maxlength={{maxLength}} decimals="2">
                    </mat-form-field>
                    <span *ngIf="(dcprice.errors?.required && (dcprice.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                    <span *ngIf="(((dcprice.errors?.greaterZero) || ((dcprice.errors?.greaterZero) && fCommercial.submitted)) && (!dcprice.errors?.required))" class="hasErrorMsg">
                      <em>Greater Than 0!</em>
                    </span>
                  </div>           
                  <div class="col-lg-1 col-md-1   " >
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input required #dcminAmt='ngModel' appGreaterZero matInput  autocomplete="true" name="minAmt-{{i}}" [(ngModel)]="field.minAmt" maxlength="10" numeric decimals="2">
                    </mat-form-field>
                    <span *ngIf="(dcminAmt.errors?.required && (dcminAmt.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                    <span *ngIf="(((dcminAmt.errors?.greaterZero) || ((dcminAmt.errors?.greaterZero) && fCommercial.submitted)) && (!dcminAmt.errors?.required))" class="hasErrorMsg">
                      <em>Greater Than 0!</em>
                    </span>
                  </div>
                </div>
                  <div *ngIf="CommercialDataModel.slabFlag==1">
                    <div  *ngIf="CommercialDataModel.ZonalSlabCounter==1 || CommercialDataModel.ZonalSlabCounter>1">
                      <div class="col-lg-1 col-md-1  ">
                        <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input required #dcprice='ngModel' appGreaterZero name="price-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.price" numeric maxlength={{maxLength}}  decimals="2">
                          </mat-form-field>
                          <span *ngIf="(dcprice.errors?.required && (dcprice.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span *ngIf="(((dcprice.errors?.greaterZero) || ((dcprice.errors?.greaterZero) && fCommercial.submitted)) && (!dcprice.errors?.required))" class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                      </div>
                      <div class="col-lg-1 col-md-1  ">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcminAmt='ngModel' appGreaterZero name="minAmt-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.minAmt"  numeric maxlength="10"  decimals="2"
                          (input)="updatesafextChargeDlvrMinAmt()">
                        </mat-form-field>
                        <span *ngIf="(dcminAmt.errors?.required && (dcminAmt.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcminAmt.errors?.greaterZero) || ((dcminAmt.errors?.greaterZero) && fCommercial.submitted)) && (!dcminAmt.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
                    </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcprice2='ngModel' appGreaterZero name="price2-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.price2"  numeric maxlength={{maxLength}} decimals="2">
                        </mat-form-field>
                        <span *ngIf="(dcprice2.errors?.required && (dcprice2.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcprice2.errors?.greaterZero) || ((dcprice2.errors?.greaterZero) && fCommercial.submitted)) && (!dcprice2.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #dcminAmt2='ngModel' appGreaterZero name="minAmt2-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.minAmt2"  numeric maxlength="10"  decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(dcminAmt2.errors?.required && (dcminAmt2.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((dcminAmt2.errors?.greaterZero) || ((dcminAmt2.errors?.greaterZero) && fCommercial.submitted)) && (!dcminAmt2.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>  
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcprice3='ngModel' appGreaterZero name="price3-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price3"  numeric maxlength={{maxLength}}  decimals="2">
                        </mat-form-field>
                        <span *ngIf="(dcprice3.errors?.required && (dcprice3.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcprice3.errors?.greaterZero) || ((dcprice3.errors?.greaterZero) && fCommercial.submitted)) && (!dcprice3.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #dcminAmt3='ngModel' appGreaterZero name="minAmt3-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minAmt3"  numeric maxlength="10"  decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(dcminAmt3.errors?.required && (dcminAmt3.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((dcminAmt3.errors?.greaterZero) || ((dcminAmt3.errors?.greaterZero) && fCommercial.submitted)) && (!dcminAmt3.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>  
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcprice4='ngModel' appGreaterZero name="price4-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price4"  numeric maxlength={{maxLength}}  decimals="2">
                        </mat-form-field>
                        <span *ngIf="(dcprice4.errors?.required && (dcprice4.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcprice4.errors?.greaterZero) || ((dcprice4.errors?.greaterZero) && fCommercial.submitted)) && (!dcprice4.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #dcminAmt4='ngModel' appGreaterZero name="minAmt4-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minAmt4"  numeric maxlength="10"  decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(dcminAmt4.errors?.required && (dcminAmt4.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((dcminAmt4.errors?.greaterZero) || ((dcminAmt4.errors?.greaterZero) && fCommercial.submitted)) && (!dcminAmt4.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>  
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcprice5='ngModel' appGreaterZero name="price5-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price5"  numeric maxlength={{maxLength}}  decimals="2">
                        </mat-form-field>
                        <span *ngIf="(dcprice5.errors?.required && (dcprice5.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcprice5.errors?.greaterZero) || ((dcprice5.errors?.greaterZero) && fCommercial.submitted)) && (!dcprice5.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #dcminAmt5='ngModel' appGreaterZero name="minAmt5-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minAmt5"  numeric maxlength="10"  decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(dcminAmt5.errors?.required && (dcminAmt5.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((dcminAmt5.errors?.greaterZero) || ((dcminAmt5.errors?.greaterZero) && fCommercial.submitted)) && (!dcminAmt5.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>  
                  </div>
                </div>
                </div>
              </div>
              </div>
                           
              <!--Delivery Custom Master Add Icon -->
              <form name="delCustMaster" (ngSubmit)="fDelCustMaster.form.valid" #fDelCustMaster="ngForm" novalidate>
              <h5 class="zonalheading" style="padding-top: 2rem;">Safextension Delivery Custom Master
                <button [disabled]="!fDelCustMaster.form.valid" mat-icon-button (click)="addCustomDelivery(); changeSlabProtion()" id="plusicon2" mat-card-avatar
                aria-label="Example icon">
                <mat-icon >add_circle</mat-icon>
                </button>
              </h5>
              
              
              <div *ngIf="this.CommercialDataModel.safextDlvryCustomCharge.length>0">
              <div class="row" *ngIf="CommercialDataModel.safextFlag==1">
                <div class="col-lg-12 col-md-12">
                  <div class="col-lg-2 col-md-2    zonalheadingbar">PINCODE/STATE</div>
                  <div class="col-lg-1 col-md-1    zonalheadingbar"  *ngIf="CommercialDataModel.slabFlag==0">RATE</div>
                  <div class="col-lg-1 col-md-1    zonalheadingbar"  *ngIf="CommercialDataModel.slabFlag==0">MINIMUM AMOUNT</div>
                  <div *ngIf="CommercialDataModel.slabFlag==1">
                    <div>
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                          <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                            <input name="zmslabfrom1" numeric  decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom1}}-{{zmslabto1}}"> 
                            <div class="dropdown"></div>
                            </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  ">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                          <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                            <input name="zmslabfrom2" numeric  decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom2}}-{{zmslabto2}}"> 
                            <div class="dropdown"></div>
                            </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom3" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom3}}-{{zmslabto3}}"> 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;" >                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom4" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom4}}-{{zmslabto4}}"> 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;" >                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>

                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom5" numeric decimals="2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom5}}-{{zmslabto5}}"> 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;" >                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
      
                    </div>
                </div>
              </div>

                  <!-- Delivery Custom Master Required Field -->
                 <div class="row margintop10"  *ngFor="let field of CommercialDataModel.safextDlvryCustomCharge; let i = index">
                  <div class="col-lg-12 col-md-12">
                    <div class="col-lg-2 col-md-2  " *ngIf="CommercialDataModel.safeextTypeName=='PINCODE'">
                      <a style="cursor: pointer;" (click)="openDialogPincodeSearch(field,'fromId',true)">
                        <span class="fa fa-search fa-lg" id="search-icon"></span>
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input class="pincode_input" required #dcmfromId='ngModel' name="fromId-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.fromId" 
                            (keydown.enter)="openDialogPincodeSearch(field,'fromId',true)" readonly>
                        </mat-form-field>
                        <span *ngIf="(dcmfromId.errors?.required && (dcmfromId.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                      </a>
                    </div>
                    <div class="col-lg-2 col-md-2  " *ngIf="CommercialDataModel.safeextTypeName=='STATE'">
                        <mat-form-field appearance="outline" style="width: 100%;">
                            <mat-select disableOptionCentering panelClass="creditSelect" required #dcmfromId='ngModel' [(ngModel)]="field.fromId" name="fromId-{{i}}">
                                <mat-option *ngFor="let item of ReferenceDataModel.safextStateWise | sortBy:'asc':'state'" [value]="item.stateId">
                                  {{item.state}}
                                </mat-option>
                              </mat-select>
                        </mat-form-field>
                        <span *ngIf="(dcmfromId.errors?.required && (dcmfromId.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        </div>

                  <div *ngIf="CommercialDataModel.slabFlag==0">
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcmprice='ngModel' appGreaterZero name="price-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true" [(ngModel)]="field.price">                        
                        </mat-form-field>
                        <span *ngIf="(dcmprice.errors?.required && (dcmprice.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcmprice.errors?.greaterZero) || ((dcmprice.errors?.greaterZero) && fCommercial.submitted)) && (!dcmprice.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcmMinAmt='ngModel' appGreaterZero name="minAmt-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true" [(ngModel)]="field.minAmt">                       
                        </mat-form-field>
                        <span *ngIf="(dcmMinAmt.errors?.required && (dcmMinAmt.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcmMinAmt.errors?.greaterZero) || ((dcmMinAmt.errors?.greaterZero) && fCommercial.submitted)) && (!dcmMinAmt.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                  </div>

                    <div *ngIf="CommercialDataModel.slabFlag==1">

                      <div  *ngIf="CommercialDataModel.ZonalSlabCounter==1 || CommercialDataModel.ZonalSlabCounter>1">
                        <div class="col-lg-1 col-md-1  ">
                          <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                          <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                              <input required #dcmprice='ngModel' appGreaterZero name="price-{{i}}" numeric maxlength={{maxLength}}  decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.price">
                            </mat-form-field>
                            <span *ngIf="(dcmprice.errors?.required && (dcmprice.touched || fCommercial.submitted))"
                              class="hasErrorMsg">
                              <em>Required!</em>
                            </span>
                            <span *ngIf="(((dcmprice.errors?.greaterZero) || ((dcmprice.errors?.greaterZero) && fCommercial.submitted)) && (!dcmprice.errors?.required))" class="hasErrorMsg">
                              <em>Greater Than 0!</em>
                            </span>
                        </div>
                        <div class="col-lg-1 col-md-1  ">
                          <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input required #dcmMinAmt='ngModel' appGreaterZero name="minAmt-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true" [(ngModel)]="field.minAmt" 
                            (input)="updatesafextChargeCusDlvrMinAmt()">
                          </mat-form-field>
                          <span *ngIf="(dcmMinAmt.errors?.required && (dcmMinAmt.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span *ngIf="(((dcmMinAmt.errors?.greaterZero) || ((dcmMinAmt.errors?.greaterZero) && fCommercial.submitted)) && (!dcmMinAmt.errors?.required))" class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                        </div>
      
                      </div>
                    <div  *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                      <div class="col-lg-1 col-md-1  ">
                        <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input required #dcmprice2='ngModel' appGreaterZero name="price2-{{i}}" numeric maxlength={{maxLength}}  decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.price2">
                          </mat-form-field>
                          <span *ngIf="(dcmprice2.errors?.required && (dcmprice2.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span *ngIf="(((dcmprice2.errors?.greaterZero) || ((dcmprice2.errors?.greaterZero) && fCommercial.submitted)) && (!dcmprice2.errors?.required))" class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                      </div>
                      <div class="col-lg-1 col-md-1  ">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcmMinAmt2='ngModel' appGreaterZero name="minAmt2-{{i}}" numeric maxlength ="10"  decimals="2" matInput  autocomplete="true" [(ngModel)]="field.minAmt2" 
                          [disabled]="isOptionBSelected">
                        </mat-form-field>
                        <span *ngIf="(dcmMinAmt2.errors?.required && (dcmMinAmt2.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcmMinAmt2.errors?.greaterZero) || ((dcmMinAmt2.errors?.greaterZero) && fCommercial.submitted)) && (!dcmMinAmt2.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
    
                    </div>
                    <div  *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                      <div class="col-lg-1 col-md-1  ">
                        <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input required #dcmprice3='ngModel' appGreaterZero name="price3-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true" [(ngModel)]="field.price3" >
                          </mat-form-field>
                          <span *ngIf="(dcmprice3.errors?.required && (dcmprice3.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span *ngIf="(((dcmprice3.errors?.greaterZero) || ((dcmprice3.errors?.greaterZero) && fCommercial.submitted)) && (!dcmprice3.errors?.required))" class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                      </div>
                      <div class="col-lg-1 col-md-1  ">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcmMinAmt3='ngModel' appGreaterZero name="minAmt3-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.minAmt3"
                          [disabled]="isOptionBSelected">
                        </mat-form-field>
                        <span *ngIf="(dcmMinAmt3.errors?.required && (dcmMinAmt3.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcmMinAmt3.errors?.greaterZero) || ((dcmMinAmt3.errors?.greaterZero) && fCommercial.submitted)) && (!dcmMinAmt3.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
    
                    </div>
                    <div  *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                      <div class="col-lg-1 col-md-1  ">
                        <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input required #dcmprice4='ngModel' appGreaterZero name="price4-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true" [(ngModel)]="field.price4" >
                          </mat-form-field>
                          <span *ngIf="(dcmprice4.errors?.required && (dcmprice4.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span *ngIf="(((dcmprice4.errors?.greaterZero) || ((dcmprice4.errors?.greaterZero) && fCommercial.submitted)) && (!dcmprice4.errors?.required))" class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                      </div>
                      <div class="col-lg-1 col-md-1  ">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcmMinAmt4='ngModel' appGreaterZero name="minAmt4-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.minAmt4"
                          [disabled]="isOptionBSelected">
                        </mat-form-field>
                        <span *ngIf="(dcmMinAmt4.errors?.required && (dcmMinAmt4.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcmMinAmt4.errors?.greaterZero) || ((dcmMinAmt4.errors?.greaterZero) && fCommercial.submitted)) && (!dcmMinAmt4.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
    
                    </div>
                    <div  *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                      <div class="col-lg-1 col-md-1  ">
                        <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input required #dcmprice5='ngModel' appGreaterZero name="price5-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true" [(ngModel)]="field.price5" >
                          </mat-form-field>
                          <span *ngIf="(dcmprice5.errors?.required && (dcmprice5.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span *ngIf="(((dcmprice5.errors?.greaterZero) || ((dcmprice5.errors?.greaterZero) && fCommercial.submitted)) && (!dcmprice5.errors?.required))" class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                      </div>
                      <div class="col-lg-1 col-md-1  ">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #dcmMinAmt5='ngModel' appGreaterZero name="minAmt5-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.minAmt5"
                          [disabled]="isOptionBSelected">
                        </mat-form-field>
                        <span *ngIf="(dcmMinAmt5.errors?.required && (dcmMinAmt5.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((dcmMinAmt5.errors?.greaterZero) || ((dcmMinAmt5.errors?.greaterZero) && fCommercial.submitted)) && (!dcmMinAmt5.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
    
                    </div>
                  </div>
                  <div class="col-lg-1 col-md-1 " style="width: 0px !important;"> <span *ngIf ="field.deleteicon"><i class="material-icons" (click)="deleteSfxDlvrCusMP(i)" style="cursor: pointer;color: #27AE60;">delete</em></span></div>
                  </div>
                </div>
                </div>
              </form>

              <hr id="collapsedivider">
              </div>
              <!--  -->
              <div *ngIf="CommercialDataModel.bookingFlag">

              <h5 class="zonalheading" style="padding-top: 2rem;">Safextension booking Charges</h5>

              <div class="row" >
                <div class="col-lg-12 col-md-12  ">
                  <div class="col-lg-2 col-md-2   zonalheadingbar">GROUP</div>
                  <div class="col-lg-1 col-md-1   zonalheadingbar" *ngIf="CommercialDataModel.slabFlag==0">RATE PER KG</div>           
                  <div class="col-lg-1 col-md-1   zonalheadingbar" *ngIf="CommercialDataModel.slabFlag==0">MINIMUM AMOUNT</div>
                  
                  <div *ngIf="CommercialDataModel.slabFlag==1">
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==1 || CommercialDataModel.ZonalSlabCounter>1">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                          <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                            <input name="zmslabfrom1" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom1}}-{{zmslabto1}}"> 
                            <div class="dropdown"></div>
                            </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  ">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom2}}-{{zmslabto2}}"> 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom3" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom3}}-{{zmslabto3}}"> 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom4" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom4}}-{{zmslabto4}}"> 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom5" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom5}}-{{zmslabto5}}"> 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
      
                    </div>
                </div>
              </div>

              <!-- Booking Charges Required Field -->
              <div class="row margintop10" *ngFor="let field of  CommercialDataModel.safextCharge; let i = index" >
                <div *ngIf="field.safextCtgy=='BOOKING'">
                <div class="col-lg-12 col-md-12  ">
                  <div class="col-lg-2 col-md-2   label-text"> {{field.groupName}}</div>                  

                  <div *ngIf="CommercialDataModel.slabFlag==0">
                  <div class="col-lg-1 col-md-1  " >
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input required #bcprice='ngModel' appGreaterZero name="price-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true" name="price" [(ngModel)]="field.price">
                    </mat-form-field>
                    <span *ngIf="(bcprice.errors?.required && (bcprice.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                    <span *ngIf="(((bcprice.errors?.greaterZero) || ((bcprice.errors?.greaterZero) && fCommercial.submitted)) && (!bcprice.errors?.required))" class="hasErrorMsg">
                      <em>Greater Than 0!</em>
                    </span>
                  </div>           
                  <div class="col-lg-1 col-md-1  " >
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input required #bcminAmt='ngModel' appGreaterZero name="minAmt-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true" name="minAmt" [(ngModel)]="field.minAmt">
                    </mat-form-field>
                    <span *ngIf="(bcminAmt.errors?.required && (bcminAmt.touched || fCommercial.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                    </span>
                    <span *ngIf="(((bcminAmt.errors?.greaterZero) || ((bcminAmt.errors?.greaterZero) && fCommercial.submitted)) && (!bcminAmt.errors?.required))" class="hasErrorMsg">
                      <em>Greater Than 0!</em>
                    </span>
                  </div>
                </div>

                  <div *ngIf="CommercialDataModel.slabFlag==1">
                    <div  *ngIf="CommercialDataModel.ZonalSlabCounter==1 || CommercialDataModel.ZonalSlabCounter>1">
                      <div class="col-lg-1 col-md-1  ">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input required #bcprice='ngModel' appGreaterZero name="price-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.price">
                          </mat-form-field>
                          <span *ngIf="(bcprice.errors?.required && (bcprice.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span *ngIf="(((bcprice.errors?.greaterZero) || ((bcprice.errors?.greaterZero) && fCommercial.submitted)) && (!bcprice.errors?.required))" class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                      </div>
                      <div class="col-lg-1 col-md-1  ">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #bcminAmt='ngModel' appGreaterZero name="minAmt-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true" [(ngModel)]="field.minAmt" 
                          (input)="updatesafextChargeBkgMinAmt()">
                        </mat-form-field>
                        <span *ngIf="(bcminAmt.errors?.required && (bcminAmt.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcminAmt.errors?.greaterZero) || ((bcminAmt.errors?.greaterZero) && fCommercial.submitted)) && (!bcminAmt.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
    
                    </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #bcprice2='ngModel' appGreaterZero name="price2-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.price2">
                        </mat-form-field>
                        <span *ngIf="(bcprice2.errors?.required && (bcprice2.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcprice2.errors?.greaterZero) || ((bcprice2.errors?.greaterZero) && fCommercial.submitted)) && (!bcprice2.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcminAmt2='ngModel' appGreaterZero name="minAmt2-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true" [(ngModel)]="field.minAmt2" 
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(bcminAmt2.errors?.required && (bcminAmt2.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcminAmt2.errors?.greaterZero) || ((bcminAmt2.errors?.greaterZero) && fCommercial.submitted)) && (!bcminAmt2.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
  
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #bcprice3='ngModel' appGreaterZero name="price3-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true" [(ngModel)]="field.price3" >
                        </mat-form-field>
                        <span *ngIf="(bcprice3.errors?.required && (bcprice3.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcprice3.errors?.greaterZero) || ((bcprice3.errors?.greaterZero) && fCommercial.submitted)) && (!bcprice3.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcminAmt3='ngModel' appGreaterZero name="minAmt3-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.minAmt3"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(bcminAmt3.errors?.required && (bcminAmt3.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcminAmt3.errors?.greaterZero) || ((bcminAmt3.errors?.greaterZero) && fCommercial.submitted)) && (!bcminAmt3.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #bcprice4='ngModel' appGreaterZero name="price4-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true" [(ngModel)]="field.price4" >
                        </mat-form-field>
                        <span *ngIf="(bcprice4.errors?.required && (bcprice4.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcprice4.errors?.greaterZero) || ((bcprice4.errors?.greaterZero) && fCommercial.submitted)) && (!bcprice4.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcminAmt4='ngModel' appGreaterZero name="minAmt4-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.minAmt4"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(bcminAmt4.errors?.required && (bcminAmt4.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcminAmt4.errors?.greaterZero) || ((bcminAmt4.errors?.greaterZero) && fCommercial.submitted)) && (!bcminAmt4.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #bcprice5='ngModel' appGreaterZero name="price5-{{i}}" numeric maxlength={{maxLength}} decimals="2" matInput  autocomplete="true" [(ngModel)]="field.price5" >
                        </mat-form-field>
                        <span *ngIf="(bcprice5.errors?.required && (bcprice5.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcprice5.errors?.greaterZero) || ((bcprice5.errors?.greaterZero) && fCommercial.submitted)) && (!bcprice5.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcminAmt5='ngModel' appGreaterZero name="minAmt5-{{i}}" numeric maxlength ="10" decimals="2" matInput  autocomplete="true"  [(ngModel)]="field.minAmt5"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(bcminAmt5.errors?.required && (bcminAmt5.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcminAmt5.errors?.greaterZero) || ((bcminAmt5.errors?.greaterZero) && fCommercial.submitted)) && (!bcminAmt5.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
                  </div>
                </div>
                </div>
              </div>
              </div>
              
              <hr id="collapsedivider">
              
              <!-- Safextension Booking custom master Add Icon -->
              <form name="bookCustMaster" (ngSubmit)="fBookCustMaster.form.valid" #fBookCustMaster="ngForm" novalidate>
              <h5 class="zonalheading" style="padding-top: 2rem;">Safextension Booking Custom Master
                <button [disabled]="!fBookCustMaster.form.valid" mat-icon-button (click)="addCustomBooking(); changeSlabProtion()" id="plusicon2" mat-card-avatar aria-label="Example icon">
                  <mat-icon >add_circle</mat-icon>
                </button>
              </h5>
              <div *ngIf="this.CommercialDataModel.safextBkngCustomCharge.length>0">
              <div class="row" *ngIf="CommercialDataModel.safextFlag==1">
                <div class="col-lg-12 col-md-12">
                  <div class="col-lg-2 col-md-4    zonalheadingbar">PINCODE/STATE</div>
                  <div class="col-lg-1 col-md-4    zonalheadingbar"  *ngIf="CommercialDataModel.slabFlag==0">RATE</div>
                  <div class="col-lg-1 col-md-4    zonalheadingbar"  *ngIf="CommercialDataModel.slabFlag==0">MIN&nbsp;AMOUNT</div>


                  <div *ngIf="CommercialDataModel.slabFlag==1">
                    <div>
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;">  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                          <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                            <input name="zmslabfrom1" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom1}}-{{zmslabto1}}" maxlength ="19" > 
                            <div class="dropdown"></div>
                            </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  ">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom2" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom2}}-{{zmslabto2}}" maxlength ="19" > 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;" >                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom3" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom3}}-{{zmslabto3}}" > 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom4" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom4}}-{{zmslabto4}}" > 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    <div *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                      <div class="col-lg-1 col-md-1   flex-direction" style="padding: 0 !important;" >  
                        <div class="col-lg-12 col-md-1 zonalheadingbar1">SLAB</div>                    
                                      <!-- hover  -->
                                      <div class="col-lg-12 col-md-12 zonalheadingbar1"  style="padding: 0 !important;">
                                        <input name="zmslabfrom5" autocomplete="true"  autocomplete="true" class="dropdown"  id="zonal-input" disabled placeholder="{{zmslabfrom5}}-{{zmslabto5}}" > 
                                        <div class="dropdown"></div>
                                        </div>
                          <!-- Hover -->
                      </div>
                      <div>
                        <div class="col-lg-1 col-md-1  " style="padding: 0 !important;">                  
                          <div class="row" id="contentInside">
                            <div class="col-lg-12 col-md-12 zonalheadingbar">MINIMUM AMOUNT</div>                    
                          </div>                                 
                        </div> 
                        </div>
                    </div>
                    </div>
                </div>
              </div>
               <div class="row margintop10"  *ngFor="let field of CommercialDataModel.safextBkngCustomCharge; let i = index">
                <div class="col-lg-12 col-md-12">
                  <div class="col-lg-2 col-md-2  " *ngIf="CommercialDataModel.safeextTypeName=='PINCODE'">
                    <a style="cursor: pointer;" (click)="openDialogPincodeSearch(field,'toId',true)">
                      <span class="fa fa-search fa-lg" id="search-icon"></span>
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input class="pincode_input" #toId='ngModel' required name="toId-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.toId" 
                         (keydown.enter)="openDialogPincodeSearch(field,'toId',true)" readonly>
                      </mat-form-field>
                      <span *ngIf="(toId.errors?.required && (toId.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                    </a>
                  </div>
                  <div class="col-lg-2 col-md-2  " *ngIf="CommercialDataModel.safeextTypeName=='STATE'">
  
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <mat-select disableOptionCentering panelClass="creditSelect" #toId='ngModel' required name="toId-{{i}}" [(ngModel)]="field.toId">
                              <mat-option *ngFor="let item of ReferenceDataModel.safextStateWise | sortBy:'asc':'state'" [value]="item.stateId">
                                {{item.state}}
                              </mat-option>
                            </mat-select>
                      </mat-form-field>
                      <span *ngIf="(toId.errors?.required && (toId.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      </div>

                <div *ngIf="CommercialDataModel.slabFlag==0">
                  <div class="col-lg-1 col-md-1  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input #bcmPrice='ngModel' required appGreaterZero name="price-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price" numeric maxlength={{maxLength}}  decimals="2">
                      </mat-form-field>
                      <span *ngIf="(bcmPrice.errors?.required && (bcmPrice.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcmPrice.errors?.greaterZero) || ((bcmPrice.errors?.greaterZero) && fCommercial.submitted)) && (!bcmPrice.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                  </div>
                  <div class="col-lg-1 col-md-1  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcmMinAmt='ngModel' appGreaterZero name="minAmt-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.minAmt" numeric maxlength ="10" decimals="2">
                      </mat-form-field>
                      <span *ngIf="(bcmMinAmt.errors?.required && (bcmMinAmt.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcmMinAmt.errors?.greaterZero) || ((bcmMinAmt.errors?.greaterZero) && fCommercial.submitted)) && (!bcmMinAmt.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                  </div>
                </div>

                  <div *ngIf="CommercialDataModel.slabFlag==1">
                    <div >
                      <div class="col-lg-1 col-md-1  ">
                        <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                            <input #bcmPrice='ngModel' required appGreaterZero name="price-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.price" numeric maxlength={{maxLength}} decimals="2">
                          </mat-form-field>
                          <span *ngIf="(bcmPrice.errors?.required && (bcmPrice.touched || fCommercial.submitted))"
                            class="hasErrorMsg">
                            <em>Required!</em>
                          </span>
                          <span *ngIf="(((bcmPrice.errors?.greaterZero) || ((bcmPrice.errors?.greaterZero) && fCommercial.submitted)) && (!bcmPrice.errors?.required))" class="hasErrorMsg">
                            <em>Greater Than 0!</em>
                          </span>
                      </div>
                      <div class="col-lg-1 col-md-1  ">
                        <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input required #bcmMinAmt='ngModel' appGreaterZero name="minAmt-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.minAmt" numeric maxlength ="10" decimals="2"
                          (input)="updatesafextChargeCusBkgMinAmt()">
                        </mat-form-field>
                        <span *ngIf="(bcmMinAmt.errors?.required && (bcmMinAmt.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcmMinAmt.errors?.greaterZero) || ((bcmMinAmt.errors?.greaterZero) && fCommercial.submitted)) && (!bcmMinAmt.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                      </div>
    
                    </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==2 || CommercialDataModel.ZonalSlabCounter>2">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #bcmPrice2='ngModel' required appGreaterZero name="price2-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.price2" numeric maxlength={{maxLength}} decimals="2">
                        </mat-form-field>
                        <span *ngIf="(bcmPrice2.errors?.required && (bcmPrice2.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcmPrice2.errors?.greaterZero) || ((bcmPrice2.errors?.greaterZero) && fCommercial.submitted)) && (!bcmPrice2.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcmMinAmt2='ngModel' appGreaterZero name="minAmt2-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.minAmt2" numeric maxlength ="10" decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(bcmMinAmt2.errors?.required && (bcmMinAmt2.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcmMinAmt2.errors?.greaterZero) || ((bcmMinAmt2.errors?.greaterZero) && fCommercial.submitted)) && (!bcmMinAmt2.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
  
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==3 || CommercialDataModel.ZonalSlabCounter>3">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #bcmPrice3='ngModel' required appGreaterZero name="price3-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price3" numeric maxlength={{maxLength}} decimals="2">
                        </mat-form-field>
                        <span *ngIf="(bcmPrice3.errors?.required && (bcmPrice3.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcmPrice3.errors?.greaterZero) || ((bcmPrice3.errors?.greaterZero) && fCommercial.submitted)) && (!bcmPrice3.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcmMinAmt3='ngModel' appGreaterZero name="minAmt3-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minAmt3" numeric maxlength ="10" decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(bcmMinAmt3.errors?.required && (bcmMinAmt3.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcmMinAmt3.errors?.greaterZero) || ((bcmMinAmt3.errors?.greaterZero) && fCommercial.submitted)) && (!bcmMinAmt3.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
  
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==4 || CommercialDataModel.ZonalSlabCounter>4">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #bcmPrice4='ngModel' required appGreaterZero name="price4-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price4" numeric maxlength={{maxLength}} decimals="2">
                        </mat-form-field>
                        <span *ngIf="(bcmPrice4.errors?.required && (bcmPrice4.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcmPrice4.errors?.greaterZero) || ((bcmPrice4.errors?.greaterZero) && fCommercial.submitted)) && (!bcmPrice4.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcmMinAmt4='ngModel' appGreaterZero name="minAmt4-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minAmt4" numeric maxlength ="10" decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(bcmMinAmt4.errors?.required && (bcmMinAmt4.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcmMinAmt4.errors?.greaterZero) || ((bcmMinAmt4.errors?.greaterZero) && fCommercial.submitted)) && (!bcmMinAmt4.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
  
                  </div>
                  <div  *ngIf="CommercialDataModel.ZonalSlabCounter==5">
                    <div class="col-lg-1 col-md-1  ">
                      <!-- <mat-icon style="color: #27AE60;">create</mat-icon> -->
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                          <input #bcmPrice5='ngModel' required appGreaterZero name="price5-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.price5" numeric maxlength={{maxLength}} decimals="2">
                        </mat-form-field>
                        <span *ngIf="(bcmPrice5.errors?.required && (bcmPrice5.touched || fCommercial.submitted))"
                          class="hasErrorMsg">
                          <em>Required!</em>
                        </span>
                        <span *ngIf="(((bcmPrice5.errors?.greaterZero) || ((bcmPrice5.errors?.greaterZero) && fCommercial.submitted)) && (!bcmPrice5.errors?.required))" class="hasErrorMsg">
                          <em>Greater Than 0!</em>
                        </span>
                    </div>
                    <div class="col-lg-1 col-md-1  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <input required #bcmMinAmt5='ngModel' appGreaterZero name="minAmt5-{{i}}" matInput  autocomplete="true"  [(ngModel)]="field.minAmt5" numeric maxlength ="10" decimals="2"
                        [disabled]="isOptionBSelected">
                      </mat-form-field>
                      <span *ngIf="(bcmMinAmt5.errors?.required && (bcmMinAmt5.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((bcmMinAmt5.errors?.greaterZero) || ((bcmMinAmt5.errors?.greaterZero) && fCommercial.submitted)) && (!bcmMinAmt5.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>
                    </div>
  
                  </div>
                </div>
                <div class="col-lg-1 col-md-1 " style="width: 0px !important;"> <span *ngIf ="field.deleteicon"><i matTooltipPosition="above" class="material-icons" (click)="deleteSfxBkngCusM(field, i)" style="cursor: pointer;color: #27AE60;">delete</em></span></div>
                </div>
              </div>
            </div>
              </form>

              <hr id="collapsedivider">
              </div>
            </div>
              <!-- Pricing parameter -->
              <h5 class="zonalheading pricingparameters">Pricing Parameters:</h5>
              <div class="row" >
                <div class="col-lg-12 col-md-12" *ngFor="let fielddata of CommercialDataModel.pricingParamTrans; let i = index">
                  <div *ngIf="fielddata.attrName==='RADIO BUTTON'">
                  <div class="col-lg-3 col-md-3   label-text" style="padding: 0 !important;">{{fielddata.pricingLabel}}</div>
                  <div class="col-lg-6 col-md-6  ">
                    <div class="row col-lg-6 col-md-6  ">
                      <mat-radio-group name="rrflag-{{i}}" style="padding-left: 1rem !important;" *ngFor="let rr of RRCusFlagList; index as radio-i" class="example-radio-group"
                   [(ngModel)]="fielddata.rrFlag">
                  <mat-radio-button class="example-radio-button" name="rrFlag"
                     (change)="changeRRFlagPP(rr.id,fielddata)" [value]="rr.id" >
                    {{rr.value}}
                  </mat-radio-button>
                 </mat-radio-group>
                    </div>
                  <div class="col-lg-2 col-md-2   row-margin" style="margin-left: 1rem;" *ngFor="let type of fielddata.attributeList">
                      <mat-radio-group name="pricingParamVal-{{i}}" [(ngModel)]="fielddata.pricingParamVal" aria-label="Select an option" [disabled]="fielddata.safexSlaDisabled">
                        <mat-radio-button [value]="type.id">{{type.descr}}</mat-radio-button>
                      </mat-radio-group>
                  </div>
                </div>
                </div>
                  <div *ngIf="fielddata.attrName==='TEXT'">
                  <div class="col-lg-3 col-md-3   label-text" style="padding-left: 0rem !important;"  >{{fielddata.pricingLabel}}</div>   
                  <div class="col-lg-6 col-md-6  ">
                    <div class="row col-lg-6 col-md-6  ">
                      <mat-radio-group name="rrflag-{{i}}" style="padding-left: 1rem !important;" *ngFor="let rr of RRCusFlagList; index as radio-i" class="example-radio-group"
                   [(ngModel)]="fielddata.rrFlag">
                  <mat-radio-button class="example-radio-button" name="rrFlag"
                     (change)="changeRRFlagPP(rr.id,fielddata)" [value]="rr.id" >
                    {{rr.value}}
                  </mat-radio-button>
                 </mat-radio-group>
                    </div>
                    <div class="col-lg-2 col-md-2   row-margin">
                      <mat-form-field  appearance="outline" style="width: 100%;">
                        <input matInput required appGreaterZero #pricingParamVal='ngModel' autocomplete="true" name="pricingParamVal-{{i}}" [disabled]="fielddata.safexSlaDisabled" 
                        [(ngModel)]="fielddata.pricingParamVal" maxlength ="10"  >
                      </mat-form-field>    
                      <span *ngIf="(pricingParamVal.errors?.required && (pricingParamVal.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((pricingParamVal.errors?.greaterZero) || ((pricingParamVal.errors?.greaterZero) && fCommercial.submitted)) && (!pricingParamVal.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>                  
                    </div>
                    <div class="col-lg-2 col-md-2   row-margin"></div>
                  </div>
                </div>
                <div *ngIf="fielddata.attrName==='DROP DOWN'">
                  <div class="col-lg-3 col-md-3   label-text" style="padding-left: 0rem !important;"  >{{fielddata.pricingLabel}}</div>  
                  <div class="col-lg-6 col-md-6  ">
                    <div class="row col-lg-6 col-md-6  ">
                      <mat-radio-group style="padding-left: 1rem !important;" *ngFor="let rr of RRCusFlagList; index as radio-i" class="example-radio-group"
                   [(ngModel)]="fielddata.rrFlag" name="rrflag-{{i}}">
                  <mat-radio-button class="example-radio-button" name="rrFlag"
                     (change)="changeRRFlagPP(rr.id,fielddata)" [value]="rr.id" >
                    {{rr.value}}
                  </mat-radio-button>
                 </mat-radio-group>
                    </div>
                    <div class="col-lg-2 col-md-2   row-margin">
                      <mat-form-field  appearance="outline" style="width: 100%;">
                        <input matInput required appGreaterZero #safexSlaDisabled='ngModel' autocomplete="true" name="safexSlaDisabled-{{i}}" [disabled]="fielddata.safexSlaDisabled" [(ngModel)]="fielddata.attr3" maxlength ="10" >
                      </mat-form-field> 
                      <span *ngIf="(safexSlaDisabled.errors?.required && (safexSlaDisabled.touched || fCommercial.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                      </span>
                      <span *ngIf="(((safexSlaDisabled.errors?.greaterZero) || ((safexSlaDisabled.errors?.greaterZero) && fCommercial.submitted)) && (!safexSlaDisabled.errors?.required))" class="hasErrorMsg">
                        <em>Greater Than 0!</em>
                      </span>                                   
                    </div>
                    <div class="col-lg-1 col-md-1  "></div>
                    <div class="from col-lg-2 col-md-2   row-margin" >
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-select disableOptionCentering panelClass="creditSelect" [disabled]="fielddata.safexSlaDisabled" [(ngModel)]="fielddata.pricingParamVal" name="pricingParamVal-{{i}}">
                          <mat-option *ngFor="let data of fielddata.attributeList" [value]="data.id">
                            {{data.descr}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    
                    <!-- <div  *ngIf="fielddata.lkpCalcUnitId>0" class="from col-lg-2 col-md-2   row-margin" >
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-select disableOptionCentering panelClass="creditSelect" [disabled]="fielddata.safexSlaDisabled" [(ngModel)]="fielddata.lkpCalcUnitId" name="lkpCalcUnitId">
                          <mat-option *ngFor="let data of ReferenceDataModel.pricingCalculationUnitList" [value]="data.id">
                            {{data.descr}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div> -->
                  </div>
                    </div>
                  </div>
              </div>
            
            <div style="margin-top: 1%;">
              <mat-accordion>
                <div class="example-button-row text-center" style="margin-top: 2%" *ngxPermissionsOnly="['COMMERCIAL_CREATE']">
                  <button id="commercialDraftButton" *ngIf="!isCopyRateCard" class="btn1" mat-raised-button color="primary"
                  (click)="isValidCommercial('save')" type="submit">
                  Save And Create New
                 </button>
                 
                  <button id="commercialNextButton" *ngIf="!isCopyRateCard" class="btn1" mat-raised-button color="primary"
                    (click)="isValidCommercial('continue')" type="submit">
                    Continue
                  </button>
                  <button id="commercialNextButton" *ngIf="isCopyRateCard" class="btn1" mat-raised-button color="primary"
                  #tooltip="matTooltip"  matTooltip="No new Commercials will be copied on Continue !! "
                    (click)="isValidCommercial('continue')" type="submit">
                    Continue
                  </button>
                  <button id="commercialNextButton" *ngIf="isCopyRateCard && oldCommercialIdList.length>1" class="btn1" mat-raised-button color="primary"
                    #tooltip="matTooltip"  matTooltip="Save and Proceed to Next Commercial !! "
                    (click)="isValidCommercial('save')" type="submit">
                    Next Commercial 
                  </button>
                </div>
              </mat-accordion>
            </div>
          </div>
        </form>
          </mat-card-content>
        </mat-expansion-panel>

        <!-- Commandment Section Starts -->
        <mat-expansion-panel id="box-shadow" [expanded]='isExpanded' #four (opened)="openCommandment()" (closed)="closeCommandment()" *ngxPermissionsOnly="['COMMANDMENT_READ']">
          <mat-expansion-panel-header style="cursor: pointer;" (click)="opencmdmnt()">
            Commandment
          </mat-expansion-panel-header>
         <mat-card-content>
          <div *ngIf="this.model.cmdmntLevel=='COMMERCIAL LEVEL'" class="commercialboxflex" style="margin-top: 1rem !important;">
            <div class="commercialboxflex" *ngIf="commercial.length>0">
              <div *ngFor="let data of commercial">
                <div [ngClass]="{
                  'commercialboxcard': ((selectedIdcmd == data.id)),
                  'commercialbox': (selectedIdcmd != data.id)
                  }" style="margin-right: 1rem;">
                  <div class="container">
                    <i class="material-icons deleteIcon1"></em>
                    <h6 style="cursor: pointer;" (click)="getCommandmentDetailbyId(data.id)">{{data.id}}</h6>
                    <mat-divider id="commercialboxdivider"></mat-divider>
                    <p *ngIf="data.chargeByName.length>13" class="card_minor_text to_upper_case heading_bold" [matTooltip]="data.chargeByName | uppercase">{{data.chargeByName}}</p>
                    <p *ngIf="data.chargeByName.length<13" class="card_minor_text to_upper_case heading_bold" >{{data.chargeByName}}</p>
                    <P *ngIf="data.packageName" class="card_minor_text to_upper_case">PACK: {{data.packageName}}</P>
                    <P *ngIf="!data.packageName" class="card_minor_text to_upper_case">PACK: NA</P>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <app-commandment *ngIf="showcmdnt" [inputData]="commandmentInput" (cmdmntSaved)="onCmdmntSaved($event)" (anyCmdmntSaved)="onAnyCmdmntSaved($event)"></app-commandment>
         </mat-card-content>
        </mat-expansion-panel>
        <form (ngSubmit)="fTerms.form.valid" #fTerms="ngForm" name="fTerms">
        <mat-expansion-panel id="box-shadow" [expanded]='isExpanded' #five (opened)="openTerms()" (closed)="closeTerms()">
          <mat-expansion-panel-header style="cursor: pointer;" (click)="getTncDetail()">
            Terms & Conditions
          </mat-expansion-panel-header>
          <mat-card-content>  
                      
            <div class="row" *ngxPermissionsOnly="['FUEL DETAILS_READ','FLFC_READ']">
              <div class="col-lg-4 col-md-4   margintop10" >
                <div class="col-lg-6 col-md-6   label-text paddingleftzero tncheading">Fuel Details</div>
                <div class="col-lg-6 col-md-6   paddingleft17">
                  <mat-radio-group style="margin-left: -11px;" class="example-radio-group" *ngFor="let season of gst"
                  #fuelDtlsFlag="ngModel" name="fuelDtlsFlag" [(ngModel)]="modeltnc.fuelDtlsFlag">
                  <mat-radio-button style="margin-left: 5px;margin-right: 15px;" class="example-radio-button" (change)="fuelDtlsFlage($event)" [value]="season.id">
                    {{season.value}}
                  </mat-radio-button>
                </mat-radio-group>
                </div>
              </div>   

            <div *ngIf="this.modeltnc.fuelDtlsFlag==1">            
              <div class="col-lg-12 col-md-12 paddingleftzero">
                <div class="row">
                  <div class="col-lg-6 col-md-6  ">
                    <div class="col-lg-4 col-md-4   label-text">Fuel Type</div>
                    <div class="col-lg-8 col-md-8  ">
                      <mat-radio-group style="margin-left: -5px;" class="example-radio-group" *ngFor="let season of fuelTypeList"
                       #lkpFuelTypeId="ngModel"  name="lkpFuelTypeId" [(ngModel)]="modeltnc.lkpFuelTypeId">
                      <mat-radio-button class="example-radio-button" [value]="season.id" (change)="furlTypeChange($event)">
                        {{season.descr}}
                      </mat-radio-button>
                    </mat-radio-group>
                    </div>
                </div>
                <div class="col-lg-2 col-md-2  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Base Fuel Index<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem;">
                      <mat-select disableOptionCentering panelClass="creditSelect" #index="ngModel" name="lkpFuelIndexId" [(ngModel)]="modeltnc.lkpFuelIndexId" (selectionChange)="getFuelPriceAndDate()" required>
                        <mat-option *ngFor="let item of baseFuelIndexList" [value]="item.id">
                          {{item.descr}}
                        </mat-option>
                      </mat-select>
                      </mat-form-field>                     
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6 col-md-6  "></div>
                <div class="col-lg-2 col-md-2  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6  "></div>
                  <div class="col-lg-6 col-md-6  ">
                    <span style="padding-bottom: 11px;" *ngIf="(index.errors?.required && (index.touched || fTerms.submitted))" class="hasErrorMsg">
                      Base Fuel Index is mandatory
                    </span>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Base Fuel Date<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <mat-select disableOptionCentering panelClass="creditSelect" required #baseFuelDt="ngModel" name="baseFuelDt" [(ngModel)]="modeltnc.baseFuelDt" (selectionChange)="FuelDateChange()" 
                      [disabled]="modeltnc.lkpFuelIndexId==undefined || this.fuelData.length == 0">
                      <mat-option *ngFor="let item of fuelData" [value]="item.showDt">
                         {{item.showDt}}
                        </mat-option>
                        <mat-option *ngFor="let item1 of intialFuelData" [value]="item1">
                         {{item1}}
                        </mat-option>                       
                      </mat-select>
                    </mat-form-field>
                    <span *ngIf="(baseFuelDt.errors?.required && (baseFuelDt.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6   label-text">Fuel Price Per-Liter</div>
                    <div class="col-lg-3 col-md-3  ">
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <input numeric  maxlength="6" decimals="2" matInput  autocomplete="true" name="fuelPrice" [(ngModel)]="modeltnc.fuelPrice" disabled>
                      </mat-form-field>
                      <div class="col-lg-4 col-md-4  "></div>
                    </div>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Calculate Based On<span class="redMark"> *</span></div>
                    <div class="col-lg-6 col-md-6  ">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <mat-select disableOptionCentering panelClass="creditSelect" required #fuelCalcBasedOn="ngModel" name="lkpincr" [(ngModel)]="modeltnc.fuelCalcBasedOn">
                        <mat-option value="FREIGHT">FREIGHT</mat-option>
                        <mat-option value="TOTAL">TOTAL</mat-option>
                        </mat-select>
                      </mat-form-field>                     
                    </div>
                </div>
                <div class="col-lg-4 col-md-4  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Fuel Surcharge<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  " style="width: 48.5%;">
                    <div class="col-lg-5 col-md-5   from" style="padding-right: .7rem">
                      <mat-form-field appearance="outline">
                        <mat-select disableOptionCentering panelClass="creditSelect" required #fuelSurchrgMeasure="ngModel" name="fuelSurchrgMeasure" [(ngModel)]="modeltnc.fuelSurchrgMeasure">
                          <mat-option value="RS" >RS</mat-option>
                          <mat-option value="%GE" >%GE</mat-option>
                        </mat-select>
                        </mat-form-field>
                     </div>
                    <div class="col-lg-7 col-md-7   from">
                      <mat-form-field appearance="outline"  style="margin-left: .7rem;">
                       <input matInput  autocomplete="true" 	
                       required #fuelSurchrg="ngModel" name="fuelSurchrg" [(ngModel)]="modeltnc.fuelSurchrg" numeric maxlength="8" decimals="2">
                     </mat-form-field>                         
                    </div>                    
                  </div>
                </div>
              </div>

              
              <div class="row">
                <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6  "></div>
                  <div class="col-lg-6 col-md-6  ">                  
                    <span style="margin-bottom: 11px;" *ngIf="(fuelCalcBasedOn.errors?.required && (fuelCalcBasedOn.touched || fTerms.submitted))"
                    class="hasErrorMsg">Required !</span>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4  "></div>
                 <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6  "></div>
                  <div class="col-lg-6 col-md-6  ">
                    <span style="margin-bottom: 10px;" *ngIf="(fuelSurchrgMeasure.errors?.required && (fuelSurchrgMeasure.touched || fTerms.submitted))"
                         class="hasErrorMsg">Required !</span>
                  </div>

                  

                 </div>
                </div>
                <!-- <hr id="collapsedivider"> -->
              <div class="row">
                <div class="col-lg-4 col-md-4  ">
                  <div class="col-lg-6 col-md-6   label-text">FLFC Applicable</div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-radio-group style="padding-left: 0.2rem !important;" class="example-radio-group" *ngFor="let season of gst"
                    #flfcFlag="ngModel" name="flfcFlag" [(ngModel)]="modeltnc.flfcFlag">
                    <mat-radio-button class="example-radio-button" [value]="season.id" (change)="FLFCApp($event)">
                      {{season.value}}
                    </mat-radio-button>
                  </mat-radio-group>
                  </div>  
                </div>
                <div class="col-lg-4 col-md-4  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div *ngIf="this.modeltnc.flfcFlag==1">
                    <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">FLFC Clause<span class="redMark"> *</span></div>
                    <div class="col-lg-6 col-md-6  ">
                      <div class="col-lg-6 col-md-6   from" style="padding-right: .3rem;">
                        <mat-form-field appearance="outline">
                         <input matInput  autocomplete="true" value="10" #flfcClause1="ngModel"
                         required #flfcClause1="ngModel"   name="flfcClause1" [(ngModel)]="modeltnc.flfcClause1" maxlength="8">
                       </mat-form-field>
                      <span style="margin-left: 2px;" *ngIf="(flfcClause1.errors?.required && (flfcClause1.touched || fTerms.submitted))"
                          class="hasErrorMsg">
                          Required !
                      </span>
                       </div>
                       <div class="col-lg-6 col-md-6   from" style="padding-right: .3rem;">
                        <mat-form-field appearance="outline" >
                         <input matInput  autocomplete="true" value="10" #flfcClause2="ngModel"
                         required #flfcClause2="ngModel"  name="flfcClause2" [(ngModel)]="modeltnc.flfcClause2" maxlength="8">
                       </mat-form-field>
                      <span style="margin-left: 2px;" *ngIf="(flfcClause2.errors?.required && (flfcClause2.touched || fTerms.submitted))"
                          class="hasErrorMsg">
                          Required !
                      </span>
                       </div>                  
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-lg-4 col-md-4  ">

                  <div *ngIf="this.modeltnc.flfcFlag==1">
                    <div class="col-lg-6 col-md-6   label-text">As On Date</div>
                    <div class="col-lg-6 col-md-6   ">
                      <mat-radio-group style="padding-left: 0.2rem !important;" class="example-radio-group" *ngFor="let season of gst"
                      name=" flfcAsOnDtFlag" [(ngModel)]="modeltnc. flfcAsOnDtFlag">
                      <mat-radio-button class="example-radio-button" [value]="season.id">
                        {{season.value}}
                      </mat-radio-button>
                    </mat-radio-group>
                    </div>
                  </div>            
                </div>
                <div class="col-lg-4 col-md-4  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div *ngIf="this.modeltnc.flfcFlag==1">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">FLFC Threshold(min)<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 100%;">
                      <input matInput  autocomplete="true" required #flfcThresholdMin="ngModel" numeric decimals="2" name="flfcThresholdMin" [(ngModel)]="modeltnc.flfcThresholdMin" maxlength="8">
                    </mat-form-field>
                    <span *ngIf="(flfcThresholdMin.errors?.required && (flfcThresholdMin.touched || fTerms.submitted))"
                        class="hasErrorMsg">Required !</span>
                  </div>
                </div>
                </div>
              </div>
              <div class="row" >
                <div class="col-lg-4 col-md-4  ">            
                  <div *ngIf="this.modeltnc.flfcFlag==1">
                    <div class="col-lg-6 col-md-6   label-text">FLFC Threshold (max)<span class="redMark"> *</span></div>
                    <div class="col-lg-6 col-md-6  ">
                      <mat-form-field  appearance="outline" style="width: 100%;margin-left: 4px;">
                        <input numeric decimals="2" matInput  autocomplete="true" 
                        required #flfcThresholdMax="ngModel" name="flfcThresholdMax" [(ngModel)]="modeltnc.flfcThresholdMax" value="10" maxlength="8">
                      </mat-form-field>
                      <span *ngIf="(flfcThresholdMax.errors?.required && (flfcThresholdMax.touched || fTerms.submitted))"
                          class="hasErrorMsg">Required !</span>
                      <div class="col-lg-4 col-md-4  "></div>
                    </div>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div *ngIf="this.modeltnc.flfcFlag==1">
                      <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">FLFC Applicable Date<span class="redMark"> *</span></div>
                      <div class="col-lg-6 col-md-6  ">
                        <mat-form-field appearance="outline" id="datepickerwidth">
                          <input matInput  autocomplete="true"  required #flfcAppcblDt="ngModel" [matDatepicker]="pickerappli" name="flfcAppcblDt" [(ngModel)]="modeltnc.flfcAppcblDt" class="date_picker"
                            placeholder="DD/MM/YYYY" [min]="minDate" [max]="maxDate" (blur)="flfcDate(modeltnc)" (dateChange)="flfcDate(modeltnc)">
                          <mat-datepicker panelClass="creditDatepicker" #pickerappli></mat-datepicker>
                          <mat-datepicker-toggle matSuffix [for]="pickerappli"></mat-datepicker-toggle>
                        </mat-form-field>
                        <span *ngIf="(flfcAppcblDt.errors?.required && (flfcAppcblDt.touched || fTerms.submitted))"
                            class="hasErrorMsg">
                            Required !
                        </span>
                        <span *ngIf="isValidflfcDate && !(flfcAppcblDt.errors?.required)" class="hasErrorMsg">
                          Invalid FLFC Applicable Date!
                        </span>
                      </div>
                    </div>
                  </div>                  
              </div>
          </div>
          </div>
            </div>

           
            <hr id="collapsedivider">
            <div class="row" *ngxPermissionsOnly="['INCREMENT_READ']">           
              <div class="col-lg-4 col-md-4  " style="margin-top: 1.5rem;">
                <div class="col-lg-6 col-md-6   label-text zonalheading tncheading paddingleftzero">Increment Clause</div>
                <div class="col-lg-6 col-md-6   paddingleft">
                  <mat-radio-group style="padding-left: 1rem !important;" class="example-radio-group" *ngFor="let season of gst"
                  name="incrClauseFlag" [(ngModel)]="modeltnc.incrClauseFlag">
                  <mat-radio-button class="example-radio-button" [value]="season.id" (change)="incClouse($event)">
                    {{season.value}}
                  </mat-radio-button>
                </mat-radio-group>
                </div>
              </div>
            
            <!--  -->
            <div *ngIf="this.modeltnc.incrClauseFlag==1">         
              <div class="col-lg-12 col-md-12 paddingleftzero">
                <div class="col-lg-4 col-md-4  ">
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    Increment Type<span class="redMark"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <mat-select disableOptionCentering panelClass="creditSelect" required #lkpIncrTypeId="ngModel" name="lkpIncrTypeId" (ngModelChange) ="abc($event,'change')" [(ngModel)]="modeltnc.lkpIncrTypeId">
                        <mat-option *ngFor="let item of incrementTypeList" [value]="item.id">
                          {{item.descr}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <span *ngIf="(lkpIncrTypeId.errors?.required && (lkpIncrTypeId.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    Increment Based on<span class="redMark"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <mat-select disableOptionCentering panelClass="creditSelect" required #lkpIncrBasedOnId="ngModel" name="incrBasedOn" [(ngModel)]="modeltnc.lkpIncrBasedOnId">
                        <mat-option *ngFor="let item of incrementBasedOnList" [value]="item.id">
                          {{item.descr}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <span *ngIf="(lkpIncrBasedOnId.errors?.required && (lkpIncrBasedOnId.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                </div>

                <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    Increment Effective Date<span class="redMark">*</span>
                  </div>
                  <div class="col-lg-4 col-md-4  ">
                    <mat-form-field appearance="outline" id="datepickerwidth" style="height: 2.7rem; width: 163% !important;">
                      <input matInput  autocomplete="true" required #incrEffectiveDt="ngModel" [matDatepicker]="pickereff" name="incrEffectiveDt" class="date_picker"
                        [(ngModel)]="modeltnc.incrEffectiveDt" placeholder="DD/MM/YYYY" [min]="minDate" [max]="maxDate" (blur)="incEffectiveDate(modeltnc)" (dateChange)="incEffectiveDate(modeltnc)">
                      <mat-datepicker panelClass="creditDatepicker" #pickereff></mat-datepicker>
                      <mat-datepicker-toggle matSuffix [for]="pickereff"></mat-datepicker-toggle>
                    </mat-form-field>
                    <span *ngIf="(incrEffectiveDt.errors?.required && (incrEffectiveDt.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <span *ngIf="isValidIncrDate && !(incrEffectiveDt.errors?.required)" class="hasErrorMsg">
                      Invalid Increment Effective Date!
                    </span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-6 col-md-6   label-text">
                        Custom Applied Amount
                  </div>
                        <div class="col-lg-6 col-md-6  ">
                          <mat-radio-group style="padding-left: 0.2rem !important;" class="example-radio-group" *ngFor="let season of gst"
                           #customAmtFlag="ngModel" name=" customAmtFlag" [(ngModel)]="modeltnc. customAmtFlag">
                          <mat-radio-button class="example-radio-button" [value]="season.id" (change)="customAmtFlage($event)">
                            {{season.value}}
                          </mat-radio-button>
                        </mat-radio-group>
                      </div>
                </div>
                </div>

               

                <div class="col-lg-4 col-md-4  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div class="row" style="padding-left: 15px;">

                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem" >Increment {{incType}}<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 100%;">
                      <input matInput numeric autocomplete="true" required #incrMnth="ngModel" autocomplete="number"  autocomplete="true" min="1" max="12" 
                      required #incrMnth="ngModel" name="incrMnth" [(ngModel)]="modeltnc.incrMnth" [maxlength]='mxlength'>
                    </mat-form-field>
                    <span *ngIf="(incrMnth.errors?.required && (incrMnth.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  ">
                    </div>
                  </div>
                </div>

                  <div class="row" style="padding-left: 15px;">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    Increment Mode<span class="redMark"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <mat-select disableOptionCentering panelClass="creditSelect" required #lkpIncrModeId="ngModel"name="lkpIncrModeId" [(ngModel)]="modeltnc.lkpIncrModeId">
                        <mat-option *ngFor="let item of incrementModeList" [value]="item.id">
                          {{item.descr}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <span *ngIf="(lkpIncrModeId.errors?.required && (lkpIncrModeId.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  ">
                    </div>
                  </div>
                  </div>

                  <div class="row" style="padding-left: 15px;">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    Increment Value<span class="redMark"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 100%;">
                      <input numeric decimals="2" matInput  autocomplete="true" 
                      required #incrVal="ngModel" name="incrVal" [(ngModel)]="modeltnc.incrVal" maxlength="8">
                    </mat-form-field>
                    <span *ngIf="(incrVal.errors?.required && (incrVal.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  ">
                    </div>
                  </div>
                  </div>

                </div>
              </div> 
              </div>
            </div>
            

            <div class="col-lg-12 col-md-12" style="margin-left: 15px;" *ngIf="this.modeltnc.customAmtFlag==1 && this.modeltnc.incrClauseFlag==1">
              <div class="col-lg-4 col-md-4  " style="margin-left: -36px;">
                <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    Custom Increment Value<span class="redMark" style="position: absolute !important;"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  " >
                    <mat-form-field appearance="outline" style="margin-left: 8px;">
                      <input numeric decimals="2" matInput  autocomplete="true" 
                      required #CustIncrVal="ngModel" name="custIncValue1" [(ngModel)]="modeltnc.customAmt" maxlength="8">
                    </mat-form-field>
                    <span *ngIf="(CustIncrVal.errors?.required && (CustIncrVal.touched || fTerms.submitted))" class="hasErrorMsg paddingleft9">Required !</span>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-4  " style="margin-left: 36px;">
                <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    From<span class="redMark"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  " >
                    <mat-form-field appearance="outline" >
                      <mat-select disableOptionCentering panelClass="creditSelect" required #customAmtFromMnth1="ngModel" (selectionChange)="onselectmonth(modeltnc.customAmtFromMnth)" name="customAmtFromMnth" [(ngModel)]="modeltnc.customAmtFromMnth">
                        <mat-option *ngFor="let item of months" [value]="item.id">
                          {{item.value}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <span  *ngIf="(customAmtFromMnth1.errors?.required && (customAmtFromMnth1.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-4  ">
                <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem" >
                    To<span class="redMark"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  " >
                    <mat-form-field appearance="outline" >
                      <mat-select disableOptionCentering panelClass="creditSelect" required #customAmtToMnth1="ngModel" name="customAmtToMnth" [(ngModel)]="modeltnc.customAmtToMnth">
                        <mat-option *ngFor="let item of monthsTo" [value]="item.id">
                          {{item.value}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <span  *ngIf="(customAmtToMnth1.errors?.required && (customAmtToMnth1.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                </div>
              </div>
            </div>
            

            <!-- <div class="col-lg-12 col-md-12" style="width: 105%;" *ngIf="this.modeltnc.customAmtFlag==1 && this.modeltnc.incrClauseFlag==1">
                <div class="col-lg-5 col-md-5  " style="margin-left: -21px;">
                  <div class="row">
                    <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                      Custom Increment Value<span class="redMark"> *</span>
                    </div>
                    <div class="col-lg-6 col-md-6  " style="width: 41%;margin-left: -39px;padding-top: 5px;">
                      <mat-form-field appearance="outline" style="width: 95% !important;width: 100%;margin-left: -3px;">
                        <input numeric decimals="2" matInput  autocomplete="true" 
                        required #CustIncrVal="ngModel" name="custIncValue1" [(ngModel)]="modeltnc.customAmt" maxlength="8">
                      </mat-form-field>
                      <span style="margin-bottom:-5px;margin-left: 10px;" *ngIf="(CustIncrVal.errors?.required && (CustIncrVal.touched || fTerms.submitted))"
                          class="hasErrorMsg">
                          Required !
                      </span>
                    </div>
                  </div>
                </div>
                <div class="col-lg-2 col-md-2  ">
                  <div class="row">
                    <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem" style="margin-left: -37px;width: 154%;">
                      From<span class="redMark"> *</span>
                    </div>
                    <div class="col-lg-6 col-md-6  " style="margin-left: -157px; width: 95%;margin-top: 3px;">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <mat-select disableOptionCentering panelClass="creditSelect" required #customAmtFromMnth1="ngModel" (selectionChange)="onselectmonth(modeltnc.customAmtFromMnth)" name="customAmtFromMnth" [(ngModel)]="modeltnc.customAmtFromMnth">
                          <mat-option *ngFor="let item of months" [value]="item.id">
                            {{item.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                      <span style="margin-bottom:-5px;margin-left: 10px;" *ngIf="(customAmtFromMnth1.errors?.required && (customAmtFromMnth1.touched || fTerms.submitted))"
                          class="hasErrorMsg">
                          Required !
                      </span>
                    </div>
                  </div>
                </div>
                <div class="col-lg-5 col-md-5  ">
                  <div class="row">
                    <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem" style="width: 49%;margin-left: 90px;">
                      To<span class="redMark"> *</span>
                    </div>
                    <div class="col-lg-6 col-md-6  " style="    margin-left: -50px;width: 157px;">
                      <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                        <mat-select disableOptionCentering panelClass="creditSelect" required #customAmtToMnth1="ngModel" name="customAmtToMnth" [(ngModel)]="modeltnc.customAmtToMnth">
                          <mat-option *ngFor="let item of monthsTo" [value]="item.id">
                            {{item.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                      <span style="margin-bottom:-5px;margin-left: 10px;" *ngIf="(customAmtToMnth1.errors?.required && (customAmtToMnth1.touched || fTerms.submitted))"
                          class="hasErrorMsg">
                          Required !
                      </span>
                    </div>
                  </div>
                </div>
            </div> -->



            <br><hr id="collapsedivider" style="margin-left: -1px;">
            <!-- Insurance Detail -->
            <h5 class="zonalheading tncheading" style="padding-top: 2rem;" *ngxPermissionsOnly="['INSURANCE_READ']">Insurance Details</h5>
            <div class="col-md-12">
            <div class="row" *ngxPermissionsOnly="['INSURANCE_READ']">
              <div class="row col-lg-4 col-md-4   paddingleftzero">
                <div class="col-lg-6 col-md-6   label-text">Is Insured</div>
                <div class="col-lg-6 col-md-6  ">
                  <mat-radio-group class="example-radio-group paddingleft17" *ngFor="let season of gst"
                   #insuFlag="ngModel"  name="insuFlag" [(ngModel)]="modeltnc.insuFlag">
                    <mat-radio-button class="example-radio-button" [value]="season.id" (change)="IsInsured($event)">
                      {{season.value}}
                    </mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>          

            <div *ngIf="this.modeltnc.insuFlag==1">         
              <div class="col-lg-12 col-md-12 paddingleftzero">
                <div class="col-lg-4 col-md-4   paddingleftzero">
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Policy Number<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 95% !important;width: 100%;margin-left: -3px;">
                      <input matInput  autocomplete="true"   required #insuPolicyNum="ngModel" name="insuPolicyNum" [(ngModel)]="modeltnc.insuPolicyNum" maxlength="50"> 
                    </mat-form-field>
                    <span *ngIf="(insuPolicyNum.errors?.required && (insuPolicyNum.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                </div>

                <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Insurance Valid Till<span class="redMark"> *</span></div>
                  <div class="col-lg-4 col-md-4  ">
                    <mat-form-field appearance="outline" id="datepickerwidth" style="width: 153% !important; margin-left: -3px;">
                      <input matInput  autocomplete="true" [matDatepicker]="pickereffe" 
                      required #insuValidUptoDt="ngModel" name="insuValidUptoDt" class="date_picker"
                        [(ngModel)]="modeltnc.insuValidUptoDt" placeholder="DD/MM/YYYY" [min]="minDate" [max]="maxDate" (blur)="insuValidDate(modeltnc)" (dateChange)="insuValidDate(modeltnc)">
                      <mat-datepicker panelClass="creditDatepicker" #pickereffe></mat-datepicker>
                      <mat-datepicker-toggle matSuffix [for]="pickereffe"></mat-datepicker-toggle>
                    </mat-form-field>
                    <span *ngIf="(insuValidUptoDt.errors?.required && (insuValidUptoDt.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <span *ngIf="isValidInsuranceDate && !(insuValidUptoDt.errors?.required)" class="hasErrorMsg">
                      Invalid Insurance Valid Till Date!
                    </span>
                  </div>
                </div>
                  <div class="row">
                    <div class="col-lg-6 col-md-6   label-text">Excess Clause</div>
                      <div class="col-lg-6 col-md-6  ">
                        <mat-radio-group style="padding-left: 1rem !important;" class="example-radio-group" *ngFor="let season of gst"
                         #excessClauseFlag="ngModel"  name="excessClauseFlag" [(ngModel)]="modeltnc.excessClauseFlag">
                        <mat-radio-button class="example-radio-button" [value]="season.id" (change)="excessClause($event)">
                          {{season.value}}
                        </mat-radio-button>
                      </mat-radio-group>
                      </div>        
                </div>
                
                </div>
                <div class="col-lg-4 col-md-4  "></div>
                <div class="col-lg-4 col-md-4  ">
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    Insurance Company<span class="redMark"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 100%;">
                      <input matInput  autocomplete="true"  required #insuCo="ngModel"  name="insuCo" [(ngModel)]="modeltnc.insuCo" maxlength="50">
                    </mat-form-field>
                    <span *ngIf="(insuCo.errors?.required && (insuCo.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  "></div>
                  </div>
                  </div>
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">
                    Insurance Value<span class="redMark"> *</span>
                  </div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 100%;">
                      <input matInput  autocomplete="true"   required #insuVal="ngModel" name="insuVal" [(ngModel)]="modeltnc.insuVal" numeric maxlength="8" decimals="2">
                    </mat-form-field>
                    <span *ngIf="(insuVal.errors?.required && (insuVal.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  ">
                    </div>
                  </div>
                  </div>
                  <div *ngIf="modeltnc.excessClauseFlag==1">
                    <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Amount<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 100%;">
                      <input numeric maxlength="8" decimals="2" matInput  autocomplete="true" value="10" 
                      required #excessClauseAmt="ngModel" name=" excessClauseAmt" [(ngModel)]="modeltnc.excessClauseAmt">
                    </mat-form-field>
                    <span *ngIf="(excessClauseAmt.errors?.required && (excessClauseAmt.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  ">
                    </div>
                  </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
            </div>
          </div>
        
       
            <br><br><hr id="collapsedivider" style="padding: 0.2px;">
            <!-- Security Details -->
            <h5 class="zonalheading tncheading" style="padding-top: 2rem;" *ngxPermissionsOnly="['SECURITY_READ']">Security Details</h5>

            <div class="row" *ngxPermissionsOnly="['SECURITY_READ']">
              <div class="col-lg-12 col-md-12 paddingleftzero">
                <div class="col-lg-2 col-md-6   label-text margin-row">Security Applicable</div>
                <div class="col-lg-2 col-md-6  ">
                  <mat-radio-group style="padding-left: .7rem !important;" class="example-radio-group" *ngFor="let season of gst"
                   #securityFlag="ngModel"   name="securityFlag" [(ngModel)]="modeltnc.securityFlag">
                    <mat-radio-button class="example-radio-button" [value]="season.id" (change)="OnsecurityClauseChange($event)">
                      {{season.value}}
                    </mat-radio-button>
                  </mat-radio-group>
                   </div>
                </div>
            

            <div *ngIf="this.modeltnc.securityFlag==1">
            <div class="row">
              <div class=" col-lg-12 col-md-12">
                <div class="col-lg-2 col-md-2   label-text mrgn_btm_2rem margin-row">Security Provided By<span class="redMark"> *</span></div>
                <div class="col-lg-4 col-md-4  ">
                      <mat-radio-group style="padding-left: .5rem !important;" name='sfxSecurity' required class="example-radio-group" *ngFor="let secrity of Scurty_Provid_By" [(ngModel)]="modeltnc.securityProvidedBy">
                       <mat-radio-button class="example-radio-button" [value]="secrity.value">
                        {{secrity.value}}
                       </mat-radio-button>
                     </mat-radio-group>
                   </div>
                </div>
            </div>

            <div class="row">
              <div class="col-lg-12 col-md-12 ">
                <div class="col-lg-4 col-md-4  ">
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Security Type<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <mat-select disableOptionCentering panelClass="creditSelect"  required #lkpSecurityTypeId="ngModel" name="lkpSecurityTypeId" [(ngModel)]="modeltnc.lkpSecurityTypeId">
                        <mat-option *ngFor="let item of securityTypeList" [value]="item.id">
                          {{item.descr}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <span *ngIf="(lkpSecurityTypeId.errors?.required && (lkpSecurityTypeId.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>    
                  </div>
                  </div>
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Bank Name<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 100%;">
                      <input matInput  autocomplete="true"   required #bankName="ngModel" name="bankName" [(ngModel)]="modeltnc.bankName" maxlength="50">
                    </mat-form-field>
                    <span *ngIf="(bankName.errors?.required && (bankName.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                  </div>
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text">
                    IFSC CODE
                  </div>
                  <div class="col-lg-6 col-md-6  ">
                    <mat-form-field appearance="outline" style="width: 100%;">
                      <input matInput  autocomplete="true"   required #bankIfscCode="ngModel" name="bankIfscCode" [(ngModel)]="modeltnc.bankIfscCode" maxlength="10">
                    </mat-form-field>
                    <span *ngIf="(bankIfscCode.errors?.required && (bankIfscCode.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  "></div>
                  </div>
                  </div>
                </div>

                <div class="col-lg-4 col-md-4  "></div>

                <div class="row col-lg-4 col-md-4  ">
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Security Amount<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6   paddingrightthree">
                    <mat-form-field appearance="outline">
                      <input matInput  autocomplete="true" required #securityAmt="ngModel" name="securityAmt" [(ngModel)]="modeltnc.securityAmt" numeric maxlength="8" decimals="2">
                    </mat-form-field>
                    <span *ngIf="(securityAmt.errors?.required && (securityAmt.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  "></div>
                  </div>
                  </div>
                  <div class="row">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem">Bank Address<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6 paddingrightthree">
                    <textarea style="padding-top: 4px;" class="form-control-textarea" id="zonal-input1" 	required #bankAddr="ngModel" name="bankAddr" [(ngModel)]="modeltnc.bankAddr"></textarea>
                    <span *ngIf="(bankAddr.errors?.required && (bankAddr.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                  </div>

                </div>

              </div>
            </div>

            <div class="row" >
              <div class=" col-lg-4 col-md-4  ">
                <div class="">
                <div class="col-lg-6 col-md-6   label-text ">Penality Clause</div>
                <div class="col-lg-6 col-md-6  ">
                  <mat-radio-group class="example-radio-group" *ngFor="let season of gst" style="padding-left: 1.5rem !important;"
                   #pnltyFlag="ngModel" name="pnltyFlag" [(ngModel)]="modeltnc.pnltyFlag">
                    <mat-radio-button class="example-radio-button" [value]="season.id" (change)="PenalityClause($event)">
                      {{season.value}}
                    </mat-radio-button>
                  </mat-radio-group>
                </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-4 "></div>
              <div class=" row col-lg-4 col-md-4 paddingleftzero">
                <div class="col-lg-6 col-md-6  label-text mrgn_btm_2rem paddingleftone">Security Reference<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6 paddingrightthree" style="padding-left: 1.2rem !important">
                    <mat-form-field appearance="outline" >
                      <input matInput  autocomplete="true"  required #securityRefNum="ngModel"  name="securityRefNum" [(ngModel)]="modeltnc.securityRefNum" maxlength="50">
                    </mat-form-field>
                    <span *ngIf="(securityRefNum.errors?.required && (securityRefNum.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                    <div class="col-lg-4 col-md-4  ">
                    </div>
                  </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-12 col-md-12 ">
                <div class="col-lg-4 col-md-4 ">
                  <div class="">
                  <div class="col-lg-6 col-md-6   label-text mrgn_btm_2rem padd paddingleftzero ">Remarks<span class="redMark"> *</span></div>
                  <div class="col-lg-6 col-md-6   paddingrightzero">
                    <mat-form-field appearance="outline" >
                      <input matInput  autocomplete="true" 
                      required #descr="ngModel" name="descr" [(ngModel)]="modeltnc.descr" maxlength="100"
                      [disabled]="modeltnc.pnltyFlag==0">                      
                    </mat-form-field>
                    <span *ngIf="(descr.errors?.required && (descr.touched || fTerms.submitted))"
                        class="hasErrorMsg">
                        Required !
                    </span>
                  </div>
                  </div>
                </div>
                <div class="col-lg-1 col-md-1  "></div>
                </div>
              </div>
            </div>
          </div>

            <hr id="collapsedivider">
            <!-- Security Details -->
            <h5 class="zonalheading" style="padding-top: 2rem;" *ngxPermissionsOnly="['NOTEPAD_READ']">Notepad Section</h5>
            <div class="row" *ngIf="!(this.radioButtontncData.length === 0)">
              <div class="col-lg-4 col-md-4  ">
                <div class="col-lg-6 col-md-6   zonalheadingbar">FIELD LABEL</div>
                <div class="col-lg-6 col-md-6   zonalheadingbar">FIELD VALUE</div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-4 col-md-4  ">
                <h4 *ngIf="this.radioButtontncData.length === 0"><em>No Data Available</em></h4>
              </div>
            </div>
            <div class="row" style=" margin-top: 1.5rem;" *ngFor="let item of radioButtontncData; let i = index">
              <div class="col-lg-4 col-md-4  ">
                <div class="col-lg-6 col-md-6   label-text">{{item.notepadName}}</div>
                <div class="col-lg-6 col-md-6  ">
                     <mat-radio-group style="padding-left: 1rem !important;"  class="example-radio-group"
                       #notepaadname="ngModel"  name="notepaadname-{{i}}"  [(ngModel)]="item.notepadInputVal" *ngFor="let season of item.attributeValue">
                        <mat-radio-button class="example-radio-button" [value]="season" >
                          {{season}}
                        </mat-radio-button>
                      </mat-radio-group>
                  </div>
              </div>
            </div>
            <div class="row" style=" margin-top: 1.5rem;" *ngFor="let item of selectortncData; let i = index">
              <div class="col-lg-4 col-md-4  ">
                <div class="col-lg-6 col-md-6   label-text">{{item.notepadName}}</div>
                <div class="col-lg-6 col-md-6  ">
                  <mat-form-field appearance="outline" style="width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" [(ngModel)]="item.notepadInputVal" 
                     #notepadname2="ngModel" name ="notepadname2-{{i}}">
                       <mat-option *ngFor="let season of item.attributeValue" [value]="season">
                        {{season}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="row" style=" margin-top: 1.5rem;" *ngFor="let item of stringtncData; let i = index">
              <div class="col-lg-4 col-md-4  ">
                <div class="col-lg-6 col-md-6   label-text">{{item.notepadName}}</div>
                <div class="col-lg-6 col-md-6  ">
                  <mat-form-field appearance="outline" style="width: 100%;">
                    <input matInput  autocomplete="true" [(ngModel)]="item.notepadInputVal"
                     #notepadname3="ngModel" name="notepadname3-{{i}}" maxlength="8">
                  </mat-form-field>
                </div>
              </div>
            </div>


            <div style="margin-top: 2%;" *ngxPermissionsOnly="['TNC_CREATE','TNC_UPDATE']">
              <mat-accordion>
                <div class="example-button-row text-center" style="margin-top: 2%">
                  <button class="btn1" id="termsNextButton" mat-raised-button color="primary" (click)=" postTncDetail()" [disabled]="!fTerms.valid">Continue</button>
                </div>
              </mat-accordion>
            </div>
          </mat-card-content>
        </mat-expansion-panel>
      </form>

        <mat-expansion-panel *ngIf="businessType!='ANYWHERE TO ANYWHERE'" id="box-shadow" [expanded]='isExpanded' #six (opened)="openBranch()" (closed)="closeBranch()">
          <mat-expansion-panel-header style="cursor: pointer;" (click)="getAssignBranchdata()">
            Branch
          </mat-expansion-panel-header>
          <form (ngSubmit)="fbranch.form.valid" #fbranch="ngForm" name="fbranch" novalidate *ngxPermissionsOnly="['BRANCH_READ']">
          <mat-card-content>
            <!-- [disabled]="!fbranch.form.valid" -->
            <h5 class="zonalheading" style="padding-top: 2rem;">Branch Assignment &nbsp;
            <button type="submit"  [disabled]="!fbranch.form.valid" (click)="branchAssignment()" [style.color]="fbranch.invalid ? 'gray' : 'green'" 
              style="color: rgb(33, 110, 36),;width: 2.4rem; position: relative;
                     left: -1.5rem;cursor: pointer; font-size: 3.2rem;cursor: pointer; border: none; background: transparent;top: .8rem;" class="material-icons" *ngxPermissionsOnly="['BRANCH_CREATE']">add_circle</button>
            </h5>               

              <div class="col-lg-12 col-md-12" style="padding: 0 !important;">
                <div class="col-lg-2 col-md-2   zonalheadingbar">BRANCH<span class="redMark"> *</span></div>
                <div class="col-lg-2 col-md-2   zonalheadingbar" style="width: 12%;">EFFECTIVE DATE<span class="redMark"> *</span></div>
                <div class="col-lg-2 col-md-2   zonalheadingbar" style="width: 12%;">EXPIRY DATE</div>
                <div class="col-lg-1 col-md-1   zonalheadingbar">BILLABLE WEIGHT</div>
                <div class="col-lg-2 col-md-2   zonalheadingbar">BOOKING HOLD</div>
                <div class="col-lg-2 col-md-2   zonalheadingbar">DELIVERY HOLD</div>
                <div class="col-lg-1 col-md-1   zonalheadingbar" style="width: 15%;" *ngxPermissionsOnly="['CUSTOMER LOCATION_CREATE','CUSTOMER LOCATION_UPDATE']">
                  <div class="col-lg-6 col-md-6  "> <span>CUSTOMER LOCATION</span> </div>
                  <div class="col-lg-6 col-md-6  "> <span  style="padding-left: 2rem;" >ACTION</span></div>
                
                 <!-- <span style="padding-left: 0.8rem;">ACTION</span> -->
                </div>
                
              </div>
            
            <!-- Default show -->
          
            <!-- <div *ngIf="branchAssignModel" > -->
              <div class="col-lg-12 col-md-12"  style="margin-top: 1.5rem;padding: 0 !important;" *ngFor="let field of branchAssignModel.assignBranch; let i = index">
                <div class="col-lg-2 col-md-2 ">
                    <a (click)="openBaseLDialogBr(field)" style="cursor: pointer;">
                    <span class="fa fa-search fa-lg" id="defualtBranchSearch5" style="top: .7rem !important;"></span>
                    <input #branch='ngModel' required [ngModel]="field.bkngBranchName" [readonly]="field.bkngBranchName" autocomplete="true" list="brow1" class="inputfield3 backgroundWhite form-control input-md"  name="bkngBranchName-{{i}}" 
                    (change)="onDefaultBranchChanged(priFilter.bkngBranchName)" (keydown.enter)="openBaseLDialogBr(field)" placeholder="search" style="height: 2.7rem; padding-left: 2.3rem;cursor: pointer; position: relative;"/>
                    </a>
                    <span *ngIf="(branch.errors?.required && branch.touched)" class="hasErrorMsgTopSide"><em>Required !</em></span>
                </div>
                
                <div class="col-lg-2 col-md-2  " style="width: 12%;">
                  <mat-form-field appearance="outline" id="datepickerwidth">
                    <input matInput  autocomplete="true" #EffDT='ngModel' required  [matDatepicker]="pickereffe2" name="effectiveDt-{{i}}" class="date_picker"
                    [(ngModel)] = "field.effectiveDt" [min]="minDate" [max]="maxDate" (blur)="dateFormatEffective(field)" (dateChange)="dateFormatEffective(field)"
                     placeholder="DD/MM/YYYY">
                    <mat-datepicker panelClass="creditDatepicker" #pickereffe2></mat-datepicker>
                    <mat-datepicker-toggle matSuffix [for]="pickereffe2"></mat-datepicker-toggle>
                  </mat-form-field>
                  <span *ngIf="(EffDT.errors?.required && EffDT.touched)" class="hasErrorMsg">
                    Required!
                  </span>
                  <span *ngIf="field.isValidBranchEffectiveDt && !(EffDT.errors?.required)" class="hasErrorMsg">
                    Invalid Effective Date!
                  </span>
                </div> 
                <div class="col-lg-2 col-md-2   " style="width: 12%;">
                  <mat-form-field appearance="outline" id="datepickerwidth">
                    <input matInput  autocomplete="true" #ExpDT='ngModel' [matDatepicker]="pickereffe1" name="expDt-{{i}}" class="date_picker"
                      [(ngModel)]="field.expDt" [min]="field.effectiveDt" [max]="maxDate" (blur)="dateFormatExpiry(field)" (dateChange)="dateFormatExpiry(field)" placeholder="DD/MM/YYYY" >
                    <mat-datepicker panelClass="creditDatepicker" #pickereffe1></mat-datepicker>
                    <mat-datepicker-toggle matSuffix [for]="pickereffe1"></mat-datepicker-toggle>
                  </mat-form-field>
                  <span *ngIf="field.isValidBranchExpiryDt" class="hasErrorMsg">
                    Invalid Expiry Date!
                  </span>
                </div>
                <div class="col-lg-1 col-md-1   text-center">
                  <mat-checkbox  style="top: -.5rem;" [(ngModel)]="field.billableWghtFlag" name="billableWghtFlag-{{i}}" [checked]="field.billableWghtFlag" 
                  (change)="field.billableWghtFlag = $event.checked ? 1 : 0"></mat-checkbox>
                </div>
                <div class="col-lg-2 col-md-2   ">
                  <span class="flex-box">
                    <mat-checkbox  style="top: -.5rem;"  [(ngModel)]="field.bkngBranchHoldFlag" [checked]="field.bkngBranchHoldFlag" name="bkngBranchHoldFlag-{{i}}"
                    (change)="$event.checked==true ?field.lkpBkngBranchHoldRsn=null:field.lkpBkngBranchHoldRsn=null ; field.bkngBranchHoldFlag = $event.checked ? 1 : 0 ;" ></mat-checkbox>    
                    <mat-form-field id="left-margin" appearance="outline" style="height: 2.7rem; width: 70% !important;">
                      <mat-select disableOptionCentering panelClass="creditSelect" #bookingHold="ngModel" [required]='field.bkngBranchHoldFlag==1' name="dlvryHoldRsn-{{i}}" [(ngModel)]="field.lkpBkngBranchHoldRsn" (selectionChange)="onchangeReasonBkg(field)"
                      [disabled]="field.bkngBranchHoldFlag==0">
                        <mat-option *ngFor="let opt of branchAssignModel.referenceList.dlvryHoldRsn" [value]="opt.id">
                          {{opt.descr}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                
                    </span>   
                    <mat-error *ngIf="bookingHold.hasError('required')" class="required_move_rgt">
                      Required !
                    </mat-error> 
                </div>
                <div class="col-lg-2 col-md-2  ">
                  <span class="flex-box">
                    <mat-checkbox style="top: -.5rem;" name="dlvryBranchHoldFlag-{{i}}"  [(ngModel)]="field.dlvryBranchHoldFlag" [checked]="field.dlvryBranchHoldFlag"  
                    (change)="$event.checked==true ?field.lkpDlvryBranchHoldRsn=null:field.lkpDlvryBranchHoldRsn=null ; field.dlvryBranchHoldFlag = $event.checked ? 1 : 0 ;"></mat-checkbox>
                    <mat-form-field id="left-margin" appearance="outline" style="height: 2.7rem; width: 70% !important;">
                      <mat-select disableOptionCentering panelClass="creditSelect" #delevryHold="ngModel"  [required]='field.dlvryBranchHoldFlag==1' name="dlvryHoldRsn2-{{i}}" [(ngModel)]="field.lkpDlvryBranchHoldRsn" (selectionChange)="onchangeReasonDlvr(field)"
                      [disabled]="field.dlvryBranchHoldFlag == 0">
                        <mat-option *ngFor="let opt of branchAssignModel.referenceList.dlvryHoldRsn" [value]="opt.id">
                          {{opt.descr}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>                 
                  </span>
                  <mat-error *ngIf="delevryHold.hasError('required')" class="required_move_rgt">
                    Required !
                  </mat-error>
                </div>
                <div class="col-lg-1 col-md-1   " style="width: 15%;" *ngxPermissionsOnly="['CUSTOMER LOCATION_CREATE','CUSTOMER LOCATION_UPDATE']">

                  <div class="col-lg-6 col-md-6  " > <span  class="text-center"><i matTooltipPosition="above" class="material-icons" (click)="openCCDialog(field)" style="cursor: pointer;color: #27AE60;">room</em></span> </div>
                  <div class="col-lg-6 col-md-6  " > <span *ngIf ="field.newBranch && i > 0" style="padding-left: 2rem;"  class="text-center" ><i matTooltipPosition="above" class="material-icons" (click)="deleteBranch(field, i)" style="cursor: pointer;color: #27AE60;">delete</em></span></div>
                 
                 
                </div>
                <!-- <div class="col-lg-2 col-md-2  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" name="dlvryHoldRsn" [(ngModel)]="field.lkpBkngBranchHoldRsn">
                      <mat-option *ngFor="let opt of branchAssignModel.referenceList.dlvryHoldRsn" [value]="opt.id">
                        {{opt.lookupVal}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-lg-2 col-md-2  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" name="dlvryHoldRsn" [(ngModel)]="field.lkpBkngBranchHoldRsn">
                      <mat-option *ngFor="let opt of branchAssignModel.referenceList.dlvryHoldRsn" [value]="opt.id">
                        {{opt.lookupVal}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div> -->
              </div>         
          <!-- </div> -->
            <div class="example-button-row text-center" *ngxPermissionsOnly="['BRANCH_CREATE','BRANCH_UPDATE']">
              <button style="margin-top: 5%;" id="branchNextButton" class="btn1" mat-raised-button color="primary" (click)="postBranch()"  [disabled]="!fbranch.form.valid">Continue</button>
            </div>
           
          </mat-card-content>

          </form>

        </mat-expansion-panel>
          <!-- SLA code starts here -->
         <mat-expansion-panel id="box-shadow" [expanded]='isExpanded' #seven (opened)="openSLA()" (closed)="closeSLA()">
          <mat-expansion-panel-header style="cursor: pointer;" (click)="getSLAById()" >
            SLA
          </mat-expansion-panel-header>
          <mat-card-content>
            <h5 class="zonalheading paddingtopone">SLA Matrix: {{zoneMatrixName}}</h5>
            <form name="slaForm" (ngSubmit)="fSLA.form.valid" #fSLA="ngForm" novalidate>
            <h5 class="zonalheading" style="padding-top: 2rem;">SLA Group Transit Time(Days)</h5>
            <div class="row">
              <div class="col-lg-6 col-md-6  ">
                <div class="col-lg-2 col-md-2 zonalheadingbar">GROUP</div>
                <div class="col-lg-6 col-md-6 zonalheadingbar">RR</div>
                <div class="col-lg-4 col-md-4 zonalheadingbar">SLA DAYS</div>
              </div>
            </div>

            <div class="row" style="padding-top: 1rem;display: grid;">
              <div *ngFor="let sla of slaList; index as i" class="col-lg-6 col-md-6"
              style="display: flex;">
                <div class="col-lg-2 col-md-2">
                  {{sla.rateGroup.name}}
                </div>
                <div class="col-lg-6 col-md-6 ">
                  <mat-radio-group [name]="i" style="padding-left: 1rem !important;" *ngFor="let rr of RRFlagList; index as radio-i" class="example-radio-group"
                   [(value)]="sla.slaRrFlag">
                  <mat-radio-button class="example-radio-button" 
                     (change)="changeRRFlagSLA(i,$event.value)" [value]="rr.id" >
                    {{rr.value}}
                  </mat-radio-button>
                 </mat-radio-group>
                </div>
                <div class="col-lg-4 col-md-4  ">
                  <mat-form-field appearance="outline" style="width: 80%;">
                     <input required #slaDays='ngModel' appGreaterZero  autocomplete="true" matInput  autocomplete="true" name="slaDays-{{i}}" [(ngModel)]="sla.slaDays" 
                       [disabled]="sla.safexSlaDisabled" maxlength="3" numeric  decimals="0">
                  </mat-form-field>
                  <span *ngIf="(slaDays.errors?.required && (slaDays.touched || fSLA.submitted))"
                      class="hasErrorMsgRight">
                      <em>Required!</em>
                  </span>
                  <span *ngIf="(((slaDays.errors?.greaterZero) || ((slaDays.errors?.greaterZero) && fSLA.submitted)) && (!slaDays.errors?.required))" class="hasErrorMsgRight">
                    <em>Greater Than 0!</em>
                  </span>
 
                </div>
              </div>
            </div>

            
            <hr id="collapsedivider">
            <!-- Custom SLA Add Icon -->
            <h5 class="zonalheading" >Custom SLA
              <button mat-icon-button [disabled]="!fCustomSla.form.valid" (click)="addCustomSLA()" id="plusicon2" mat-card-avatar aria-label="Example icon" class="mat_icon_moz">
                <mat-icon class="slaAddIcon">add_circle</mat-icon>
              </button>
           </h5>
           <form name="customSla" (ngSubmit)="fCustomSla.form.valid" #fCustomSla="ngForm" novalidate>
            <div class="row" *ngIf="customSlaList.length>0">
              <div class="col-lg-7 col-md-7  ">
                <div class="col-lg-2 col-md-2 zonalheadingbar">FROM TYPE</div>
                <div class="col-lg-2 col-md-2 zonalheadingbar">TO TYPE</div>
                <div class="col-lg-2 col-md-2 zonalheadingbar">FROM</div>
                <div class="col-lg-2 col-md-2 zonalheadingbar">TO</div>
                <div class="col-lg-2 col-md-2 zonalheadingbar">SLA DAYS</div>
              </div>
            </div>
            <!-- Custom SLA Required Fields -->
            <div class="row" style="margin-top: 1.5rem;">
              <div *ngFor="let field of customSlaList; let i = index" class="col-lg-7 col-md-7  ">
                <div class="col-lg-2 col-md-2  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" required #lkpSrcTypeId='ngModel' name="lkpSrcTypeId-{{i}}" [(ngModel)]="field.lkpSrcTypeId" (selectionChange)='slaAddressByType(field.lkpSrcTypeId,i,"from")'>
                      <mat-option *ngFor="let item of slasrcDestList" [value]="item.id">
                        {{item.lookupVal}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <span *ngIf="(lkpSrcTypeId.errors?.required && (lkpSrcTypeId.touched || fSLA.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                  </span>
                </div>
                <div class="col-lg-2 col-md-2  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" panelClass="creditSelect" required #lkpDestTypeId='ngModel' name="lkpDestTypeId-{{i}}" [(ngModel)]="field.lkpDestTypeId" (selectionChange)='slaAddressByType(field.lkpDestTypeId,i, "to")'>
                      <mat-option *ngFor="let item of slasrcDestList" [value]="item.id">
                        {{item.lookupVal}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <span *ngIf="(lkpDestTypeId.errors?.required && (lkpDestTypeId.touched || fSLA.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                  </span>
                </div>
                <div class="col-lg-2 col-md-2   " *ngIf="!field.fromTypeSLA && field.defaultFlagFromSla==true">
                 <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                     <mat-select disableOptionCentering panelClass="creditSelect" name="">
                         <!-- <mat-option *ngFor="let item of slasrcDestList" [value]="item.id">
                           {{item.value}}
                         </mat-option> -->
                       </mat-select>
                 </mat-form-field>                   
               </div>
                <div class="col-lg-2 col-md-2   " *ngIf='field.fromTypeSLA==="STATE"'>
                 <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                     <mat-select disableOptionCentering panelClass="creditSelect" required #srcId='ngModel' name="srcId-{{i}}" [(ngModel)]="field.srcId"  >
                         <mat-option *ngFor="let item of stateAddrSla | sortBy:'asc':'stateName'" [value]="item.id">
                           {{item.stateName}}
                         </mat-option>
                       </mat-select>
                 </mat-form-field>
                 <span *ngIf="(srcId.errors?.required && (srcId.touched || fSLA.submitted))"
                     class="hasErrorMsg">
                     <em>Required!</em>
                 </span>
             </div>
             <div class="col-lg-2 col-md-2   " *ngIf='field.fromTypeSLA==="DISTRICT"'>
               <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                   <mat-select disableOptionCentering panelClass="creditSelect" required #srcId='ngModel' name="srcId-{{i}}" [(ngModel)]="field.srcId"  >
                       <mat-option *ngFor="let item of districtAddrSla | sortBy:'asc':'districtName'" [value]="item.id">
                         {{item.districtName}}
                       </mat-option>
                     </mat-select>
               </mat-form-field>
               <span *ngIf="(srcId.errors?.required && (srcId.touched || fSLA.submitted))"
                   class="hasErrorMsg">
                   <em>Required!</em>
               </span>
           </div>
           <div class="col-lg-2 col-md-2   " *ngIf='field.fromTypeSLA==="CITY"'>
             <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                 <mat-select disableOptionCentering panelClass="creditSelect" required #srcId='ngModel' name="srcId-{{i}}" [(ngModel)]="field.srcId"  >
                     <mat-option *ngFor="let item of cityAddrSla | sortBy:'asc':'cityName'" [value]="item.id">
                       {{item.cityName}}
                     </mat-option>
                   </mat-select>
             </mat-form-field>
             <span *ngIf="(srcId.errors?.required && (srcId.touched || fSLA.submitted))"
                 class="hasErrorMsg">
                 <em>Required!</em>
             </span>
         </div>
         <div class="col-lg-2 col-md-2   " *ngIf='field.fromTypeSLA==="PINCODE"'>

             <a style="cursor: pointer;" (click)="openDialogPincodeSearch(field,'srcId',false)">
              <span class="fa fa-search fa-lg" id="search-icon"></span>
              <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                <input class="pincode_input" required #srcId='ngModel' name="srcId-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.srcId" 
                (keydown.enter)="openDialogPincodeSearch(field,'srcId',false)" readonly>
              </mat-form-field>
              <span *ngIf="(srcId.errors?.required && (srcId.touched || fSLA.submitted))"
                  class="hasErrorMsg">
                  <em>Required!</em>
              </span>
            </a>
           </div>

            <div class="col-lg-2 col-md-2   "*ngIf="!field.toTypeSLA && field.defaultFlagToSla==true">
             <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                 <mat-select disableOptionCentering panelClass="creditSelect" required #destId='ngModel' name="destId-{{i}}" [(ngModel)]="field.destId">
                     <!-- <mat-option *ngFor="let item of stateAddr" [value]="item.stateName">
                       {{item.value}}
                     </mat-option> -->
                   </mat-select>
             </mat-form-field>
             <span *ngIf="(destId.errors?.required && (destId.touched || fSLA.submitted))"
                 class="hasErrorMsg">
                 <em>Required!</em>
             </span>
            </div>
             <div class="col-lg-2 col-md-2   " *ngIf='field.toTypeSLA==="STATE"'>
                 <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                     <mat-select disableOptionCentering panelClass="creditSelect" required #destId='ngModel' name="destId-{{i}}" [(ngModel)]="field.destId"  >
                         <mat-option *ngFor="let item of stateAddrSla | sortBy:'asc':'stateName'" [value]="item.id">
                           {{item.stateName}}
                         </mat-option>
                       </mat-select>
                 </mat-form-field>
                 <span *ngIf="(destId.errors?.required && (destId.touched || fSLA.submitted))"
                     class="hasErrorMsg">
                     <em>Required!</em>
                 </span>
             </div>
             <div class="col-lg-2 col-md-2   " *ngIf='field.toTypeSLA==="DISTRICT"'>
               <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                   <mat-select disableOptionCentering panelClass="creditSelect" required #destId='ngModel' name="destId-{{i}}" [(ngModel)]="field.destId"  >
                       <mat-option *ngFor="let item of districtAddrSla | sortBy:'asc':'districtName'" [value]="item.id">
                         {{item.districtName}}
                       </mat-option>
                     </mat-select>
               </mat-form-field>
               <span *ngIf="(destId.errors?.required && (destId.touched || fSLA.submitted))"
                   class="hasErrorMsg">
                   <em>Required!</em>
               </span>
           </div>
           <div class="col-lg-2 col-md-2   "*ngIf='field.toTypeSLA==="CITY"'>
             <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                 <mat-select disableOptionCentering panelClass="creditSelect" required #destId='ngModel' name="destId-{{i}}" [(ngModel)]="field.destId"  >
                     <mat-option *ngFor="let item of cityAddrSla | sortBy:'asc':'cityName'" [value]="item.id">
                       {{item.cityName}}
                     </mat-option>
                   </mat-select>
             </mat-form-field>
             <span *ngIf="(destId.errors?.required && (destId.touched || fSLA.submitted))"
                 class="hasErrorMsg">
                 <em>Required!</em>
             </span>
         </div>
            
             <div class="col-lg-2 col-md-2   "  *ngIf='field.toTypeSLA==="PINCODE"'>

                   <a style="cursor: pointer;" (click)="openDialogPincodeSearch(field,'destId',false)">
                    <span class="fa fa-search fa-lg" id="search-icon"></span>
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input class="pincode_input" required #destId='ngModel' name="destId-{{i}}" matInput  autocomplete="true" [(ngModel)]="field.destId" 
                      (keydown.enter)="openDialogPincodeSearch(field,'destId',false)" readonly>
                    </mat-form-field>
                    <span *ngIf="(destId.errors?.required && (destId.touched || fSLA.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                    </span>
                  </a>
                 </div>
                <div class="col-lg-2 col-md-2  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <input required #customSlaDays='ngModel' appGreaterZero  autocomplete="true" matInput  name="customSlaDays-{{i}}" [(ngModel)]="field.slaDays"
                    maxlength="3" numeric  decimals="0">
                  </mat-form-field>
                  <span *ngIf="(customSlaDays.errors?.required && (customSlaDays.touched || fSLA.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                  </span>
                  <span *ngIf="(((customSlaDays.errors?.greaterZero) || ((customSlaDays.errors?.greaterZero) && fSLA.submitted)) && (!customSlaDays.errors?.required))" class="hasErrorMsg">
                    <em>Greater Than 0!</em>
                  </span>
                </div>
                <mat-icon (click)="removeCustomSLA(i)" *ngIf="field.isNewSla" id="removeSlaIcon" mat-card-avatar aria-label="remove icon" class="removeIcon">remove_circle</mat-icon>
              </div>
            </div>
            </form>

            
            <hr id="collapsedivider">
            <div class="row">
              <div class="col-lg-2 col-md-2  label-text">
                <!-- SafeExtension Type Add Icon -->
                <h5 class="zonalheading">Safextension Type
                  <button mat-icon-button [disabled]="!fSafeExtnType.form.valid" (click)="addSlaListSLA()" id="plusicon2" mat-card-avatar aria-label="Example icon" class="mat_icon_moz">
                    <mat-icon class="slaAddIcon two">add_circle</mat-icon>
                  </button>
                </h5>
              </div>

              <div>
                <div class="col-lg-5 col-md-5 " style="padding-top: 1rem !important;">
                   <mat-radio-group  *ngFor="let season of typeList" class="example-radio-group"
                      name="safeextTypeSlaFlag" [(ngModel)]="safextTypeId">
                  <mat-radio-button class="example-radio-button" name="safextTypeFlag"
                        [value]="season.id" (change)="changeSafextType(season.lookupVal,season.id)">
                        {{season.descr}}
                  </mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>
            </div>

           <form name="safeExtnType" (ngSubmit)="fSafeExtnType.form.valid" #fSafeExtnType="ngForm" novalidate>
            <div *ngIf="safextCustomSlaList.length>0">
            <div class="row" style="padding-top: 1.5rem;">
              <div class="col-lg-5 col-md-5  ">
                <div class="col-lg-4 col-md-4   zonalheadingbar">FROM {{safextTypeVal}}</div>
                <div class="col-lg-4 col-md-4   zonalheadingbar">TO {{safextTypeVal}}</div>
                <div class="col-lg-4 col-md-4   zonalheadingbar">SLA DAYS</div>
              </div>
            </div>
            <!-- SafeExtension Type Required Fields -->
            <div *ngFor="let sfx of safextCustomSlaList; let i = index" class="row" style="margin-top: 1.5rem;">
              <div class="col-lg-5 col-md-5  ">
                <div class="col-lg-4 col-md-4  " *ngIf='safextTypeVal == "STATE"'>
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" required #safextSrcId='ngModel' name="safextSrcId-{{i}}" [(ngModel)]="sfx.safextSrcId">
                      <mat-option *ngFor="let st of safeExtSlaStateList | sortBy:'asc':'state'" [value]="st.stateId">
                        {{st.state}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <span *ngIf="(safextSrcId.errors?.required && (safextSrcId.touched || fSLA.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                  </span>
                </div>
                <div class="col-lg-4 col-md-4  " *ngIf='safextTypeVal == "PINCODE"'>
                  <a style="cursor: pointer;" (click)="openDialogPincodeSearch(sfx,'safextSrcId',true)">
                    <span class="fa fa-search fa-lg" id="search-icon"></span>
                    <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                      <input class="pincode_input" required #safextSrcId='ngModel' name="safextSrcId-{{i}}" matInput  autocomplete="true" [(ngModel)]="sfx.safextSrcId" 
                      (keydown.enter)="openDialogPincodeSearch(sfx,'safextSrcId',true)" readonly>
                    </mat-form-field>
                    <span *ngIf="(safextSrcId.errors?.required && (safextSrcId.touched || fSLA.submitted))"
                        class="hasErrorMsg">
                        <em>Required!</em>
                    </span>
                  </a>
                 <div *ngIf="sfx.fromValidation" class="invalid-feedback">
                  <div *ngIf="sfx.fromValidation" class="error">Please select from</div>
                 </div>
               </div>
               <div class="col-lg-4 col-md-4  " *ngIf='safextTypeVal == "STATE"'>
                 <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                   <mat-select disableOptionCentering panelClass="creditSelect" required #safextDestId='ngModel' name="safextDestId-{{i}}" [(ngModel)]="sfx.safextDestId">
                     <mat-option *ngFor="let st of safeExtSlaStateList | sortBy:'asc':'state'" [value]="st.stateId">
                       {{st.state}}
                     </mat-option>
                   </mat-select>
                 </mat-form-field>
                 <span *ngIf="(safextDestId.errors?.required && (safextDestId.touched || fSLA.submitted))"
                     class="hasErrorMsg">
                     <em>Required!</em>
                 </span>
               </div>
               <div class="col-lg-4 col-md-4  " *ngIf='safextTypeVal == "PINCODE"'>
                <a style="cursor: pointer;" (click)="openDialogPincodeSearch(sfx,'safextDestId',true)">
                  <span class="fa fa-search fa-lg" id="search-icon"></span>
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <input class="pincode_input" required #safextDestId='ngModel' name="safextDestId-{{i}}" matInput  autocomplete="true" [(ngModel)]="sfx.safextDestId" 
                    (keydown.enter)="openDialogPincodeSearch(sfx,'safextDestId',true)" readonly>
                  </mat-form-field>
                  <span *ngIf="(safextDestId.errors?.required && (safextDestId.touched || fSLA.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                  </span>
                </a>
                <div *ngIf="sfx.toValidation" class="invalid-feedback">
                  <div *ngIf="sfx.toValidation" class="error">Please select To</div>
                 </div>
              </div>
                <div class="col-lg-4 col-md-4  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <input required #slaDays='ngModel' appGreaterZero name="slaDays-{{i}}" matInput  autocomplete="true" autocomplete="number"  autocomplete="true" [(ngModel)]="sfx.slaDays"
                    maxlength="3" numeric  decimals="0">
                  </mat-form-field>
                  <span *ngIf="(slaDays.errors?.required && (slaDays.touched || fSLA.submitted))"
                      class="hasErrorMsg">
                      <em>Required!</em>
                  </span>					  
                  <span *ngIf="(((slaDays.errors?.greaterZero) || ((slaDays.errors?.greaterZero) && fSLA.submitted)) && (!slaDays.errors?.required))" class="hasErrorMsg">
                    <em>Greater Than 0!</em>
                  </span>
                  <!-- <div *ngIf="sfx.slaDaysValidation" class="invalid-feedback">
                    <div *ngIf="sfx.slaDaysValidation" class="error">Please enter value</div>
                   </div> -->
                </div>
              </div>
              <mat-icon (click)="removeSafexTypeSLA(i)" *ngIf="sfx.isNewSla" id="removeSlaIcon" mat-card-avatar aria-label="remove icon" class="removeIcon">remove_circle</mat-icon>
             </div>
            </div>
            </form>

            <div>
            <h5 class="zonalheading" style="padding-top: 20px;">Safextension SLA charges</h5>
            <div class="row">
              <div class="col-lg-6 col-md-6  ">
                <div class="col-lg-2 col-md-2   zonalheadingbar">GROUP</div>
                <div class="col-lg-4 col-md-4   zonalheadingbar">SLA DAYS</div>
              </div>
            </div>

            <div class="row" style="padding-top: 10px;display: grid;">
              <div *ngFor="let sfxType of safextSlaList; let i = index" class="col-lg-6 col-md-6  "
              style="display: flex;">
                <div class="col-lg-2 col-md-2  ">
                  {{sfxType.groupName}}
                </div>
                <div class="col-lg-4 col-md-4  ">
                  <mat-form-field appearance="outline" style="width: 80%;">
                     <input required #safeExtnslaDays='ngModel' appGreaterZero autocomplete="number"  autocomplete="true" matInput  autocomplete="true" name="safeExtnslaDays-{{i}}" [(ngModel)]="sfxType.slaDays"
                     maxlength="3" numeric  decimals="0">
                  </mat-form-field>
                  <span *ngIf="(safeExtnslaDays.errors?.required && (safeExtnslaDays.touched || fSLA.submitted))"
                  class="hasErrorMsgRight">
                      <em>Required !</em>
                  </span>
                  <span *ngIf="(((safeExtnslaDays.errors?.greaterZero) || ((safeExtnslaDays.errors?.greaterZero) && fSLA.submitted)) && (!safeExtnslaDays.errors?.required))" class="hasErrorMsgRight">
                    <em>Greater Than 0!</em>
                  </span>
                  <!-- <div *ngIf="sfxType.slaDaysValidation" class="invalid-feedback">
                    <div *ngIf="sfxType.slaDaysValidation" class="error">Please enter value</div>
                   </div> -->
                </div>
              </div>
            </div>
            </div>
            <div style="margin-top: 2%;">
              <mat-accordion>
                <div class="example-button-row text-center" style="margin-top: 2%">
                  <button id="slaSaveButton" class="btn1" mat-raised-button
                    (click)="isValidSLA('save')" color="primary" *ngxPermissionsOnly="['SLA GROUP_CREATE','SLA GROUP_UPDATE']">Save And Skip VMI</button>
                  <button id="slaNextButton" class="btn1" type="submit" mat-raised-button
                    (click)="isValidSLA('continue')" color="primary" *ngxPermissionsOnly="['SLA GROUP_CREATE','SLA GROUP_UPDATE']">Continue</button>
                </div>
              </mat-accordion>
            </div>
          </form>
          </mat-card-content>
        </mat-expansion-panel>
        <!-- SLA code ends here -->

<!-- VMI starts here -->
        <mat-expansion-panel id="box-shadow" [expanded]='isExpanded' #eight (opened)="openVMI()" (closed)="closeVMI()" *ngxPermissionsOnly="['VMI_READ']">
          <mat-expansion-panel-header style="cursor: pointer;" (click)="getVMIById()">
            VMI
          </mat-expansion-panel-header>
          <mat-card-content>
            <form name="vmiSection" (ngSubmit)="fVmiSection.form.valid" #fVmiSection="ngForm" novalidate>
            <h5 class="zonalheading" style="padding-top: 2.8rem;">Consignor/ Consignee mapping for VMI
              <button  [disabled]="!fVmiSection.form.valid" (click)="addVMI()" style="cursor: pointer;" id="plusicon2" mat-icon-button mat-card-avatar aria-label="Example icon" *ngxPermissionsOnly="['VMI_CREATE']">
                <mat-icon >add_circle</mat-icon>
              </button>
            </h5>
            <div class="row" *ngIf="vmiList.length>0" style="padding-top: 1.rem;">
              <div class="col-lg-6 col-md-6  ">
                <div class="col-lg-3 col-md-3   zonalheadingbar">CONSIGNOR <span class="redMark"> *</span></div>
                <div class="col-lg-3 col-md-3   zonalheadingbar">CONSIGNEE <span class="redMark"> *</span></div>
                <div class="col-lg-3 col-md-3   zonalheadingbar">VMI FLAG <span class="redMark"> *</span></div>
                <div class="col-lg-3 col-md-3   zonalheadingbar">VMI TYPE <span class="redMark"> *</span></div>
              </div>
            </div>

            <div class="row" style="margin-top: 1.5rem !important;display: grid;">
              <div *ngFor="let vmi of vmiList; let i = index" class="col-lg-6 col-md-6  ">
                <div class="col-lg-3 col-md-3  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" name="msaCnorList-{{i}}" [(ngModel)]="vmi.cnorId" #cnorVMI="ngModel" required
                     (selectionChange)='validateDuplicateVMICombination()'>
                      <mat-option *ngFor="let vm of vmiDetails.referenceList.msaCnorList" [value]="vm.id">
                        {{vm.name}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                <span *ngIf="(cnorVMI.errors?.required && (cnorVMI.touched || fVmiSection.submitted))"
                  class="hasErrorMsg">
                  <em>Please select consignor</em>
                </span>
                </div>
                <div class="col-lg-3 col-md-3  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" name="msaCneeList-{{i}}" [(ngModel)]="vmi.cneeId" #cneeVMI="ngModel"
                    required (selectionChange)='validateDuplicateVMICombination()'>
                      <mat-option *ngFor="let vm of vmiDetails.referenceList.msaCneeList" [value]="vm.id">
                        {{vm.name}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <span *ngIf="(cneeVMI.errors?.required && (cneeVMI.touched || fVmiSection.submitted))"
                    class="hasErrorMsg">
                    <em>Please Select Consignee</em>
                  </span>
                </div>
                <div class="col-lg-3 col-md-3  ">
                  <mat-radio-group *ngFor="let vf of vmiFlagList" (ngModelChange)="vmiFlagChange(vmi, vmi.vmiFlag)" class="example-radio-group"
                   [(ngModel)]="vmi.vmiFlag" name="vmiFlag-{{i}}">
                  <mat-radio-button class="example-radio-button" [value]="vf.id">{{vf.value}}</mat-radio-button>
                </mat-radio-group>
                </div>
                <div class="col-lg-3 col-md-3  ">
                  <mat-form-field appearance="outline" style="height: 2.7rem; width: 100%;">
                    <mat-select disableOptionCentering panelClass="creditSelect" name="vmiTypeList-{{i}}" [(ngModel)]="vmi.lkpVmiTypeId" #vmiType="ngModel" [disabled]="(vmi.vmiFlag == 0)"
                    required>
                      <mat-option *ngFor="let vm of vmiDetails.referenceList.vmiTypeList" [value]="vm.id">
                        {{(vmi.vmiFlag == 0) ? null : vm.descr}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <span *ngIf="(vmiType.errors?.required && (vmiType.touched || fVmiSection.submitted))"
                    class="hasErrorMsg">
                    <em>Please Select VMI Type</em>
                  </span>
                </div>
                <mat-icon (click)="removeVMI(i)" *ngIf="(((vmiList.length - 1) == i) && (vmi.isNewVMI))" id="removeicon" mat-card-avatar aria-label="remove icon" style="
                color: #27AE60; display: block; cursor: pointer;">delete</mat-icon>
              </div>
                <div *ngIf="!vmiMappingFlag" class="invalid-feedback">
                  <div *ngIf="!vmiMappingFlag" class="error">Duplicate consingor/consignee combination</div>
              </div>
            </div>
            <div style="margin-top: 2%;">
              <mat-accordion>
                <div class="example-button-row text-center" style="margin-top: 2%">
                  <button type="submit" class="btn1" id="vmiNextButton" mat-raised-button color="primary"
                   (click)="saveVMI()" [disabled]="(this.vmiList.length == 0) || (!fVmiSection.form.valid)" *ngxPermissionsOnly="['VMI_CREATE','VMI_UPDATE']">Continue</button>

                </div>
              </mat-accordion>
            </div>
          </form>
          </mat-card-content>
        </mat-expansion-panel>
        <!-- VMI Ends here -->
      </mat-accordion>
    </div>
    <div class="example-button-row text-center" style="margin-top: 5%">
      <button class="btn1" id="rateSubmitButton" style="text-align: center" mat-raised-button color="primary"
        (click)="openBilling()" *ngxPermissionsOnly="['BILLING CONFIG_CREATE','BILLING CONFIG_UPDATE','BILLING CONFIG_READ']">Next</button>

    </div>
    <!-- </form> -->
  </mat-card>
</div>
<ngx-spinner id="spinner" size="large" type="ball-spin-clockwise"></ngx-spinner>
