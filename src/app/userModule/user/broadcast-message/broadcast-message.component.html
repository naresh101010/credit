<div class="container head_container">
  <div class="row">
    <div class="col-md-12 bread_crumb">
      <a href="/dashboard" target="_self">Dashboard</a><span class="fa fa-caret-right"></span>
      <a href="/user-management/user" target="_self"> User Management</a><span class="fa fa-caret-right"></span>
      <a > Broadcast Message</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-10">
      <p style="color: white;font-size: 2.8rem;">{{this.greeting()}},
        <strong style="padding-left: 8px;">{{userName | uppercase}}</strong></p>
    </div>
    <div class="col-md-2 text-right">
      <label style="color: white;font-size: 2.4rem;">MASTER DATA MANAGEMENT</label>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 ">
      <p style="color: white;font-size: 2.8rem;">Broadcast Message</p>
    </div>
  </div>
</div>



    <div class="dashboard-first-container" fxLayout  fxLayout.xs="column wrap"  fxLayoutAlign="center" fxLayoutGap="0px" fxLayoutGap.xs="0px" >
        <div class="item item-4" fxFlex="100%"  fxFlexOffset.xs="0">
          <mat-card style="flex-wrap: wrap; margin-bottom: 3rem !important;" class="example-card " fxFlex="100%" id="lending" >
            <a (click)="messageDialog()" style="cursor: pointer;">
              <mat-icon id="plusicon" mat-card-avatar aria-label="Example icon">add_circle</mat-icon></a>


            <span class="fa fa-search fa-lg" id="dashboard-search" style="position: static !important;"></span>
            <input maxlength="100" class="banner-input1"  (keypress)="validInput($event)" placeholder="Search Message" [(ngModel)]="searchValue"
            autocomplete="true" (keyup.enter)="applyFilter($event.target.value)">

            <hr class="green-border-heading">

            <div class="table_scroll" style="max-height: 60%; overflow-y: scroll" mat-elevation-z8 #TABLE>
              <table aria-describedby="table"  mat-table [dataSource]="dataSource" #table matSort>
                <!-- Position Column -->
                <ng-container matColumnDef="broadcastMessage"  >
                  <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header><p class="th-text"> MESSAGE </p></th>
                  <td mat-cell *matCellDef="let element" >

                    <p class="th-text broadcastMessageWidth" [matTooltipDisabled]="element.broadcastMessage.length<72"
                    [matTooltip]="element.broadcastMessage | uppercase" matTooltipPosition="above" (click)="openDialog(element)">{{element.broadcastMessage | uppercase}}</p></td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="createdBy" >
                  <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header><p class="th-text"> CREATED BY </p></th>
                  <td mat-cell *matCellDef="let element" let i = index;>
                    <p class="th-text broadcastColumnsWidth"  style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap;width: 25rem">{{element.createdBy | uppercase}} </p></td>
                </ng-container>

                <ng-container matColumnDef="effectiveDate">
                  <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header><p class="th-text"> ACTIVE DATE</p> </th>
                  <td mat-cell *matCellDef="let element"><p class="th-text broadcastColumnsWidth">  {{element.effectiveDate | date: 'dd/MM/yyyy'}}</p></td>
                </ng-container>

                <ng-container matColumnDef="expiryDate">
                  <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header><p class="th-text"> INACTIVE DATE</p> </th>
                  <td mat-cell *matCellDef="let element"><p class="th-text broadcastColumnsWidth">{{(element.expiryDate) ? (element.expiryDate | date: 'dd/MM/yyyy') : ''}}</p></td>
                </ng-container>

                <ng-container matColumnDef="status">
                  <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header style="width: 7%;"><p class="th-text"> STATUS </p></th>
                  <td mat-cell *matCellDef="let element"><p class="th-text ">{{((element.status==1) ? 'ACTIVE' : 'INACTIVE')}}</p></td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
            </div>
            <ngx-spinner id="spinner" size="large" type="ball-spin-clockwise"></ngx-spinner>

             <div [ngStyle]="{'opacity':paginaFlg ? '1':'0'}">
               <mat-paginator
                #paginator
                [pageSize]="10"
                [pageSizeOptions]="[10, 15, 20]"
                [showFirstLastButtons]="true"
            ></mat-paginator>
            </div>

          </mat-card>
        </div>

        <div fxFlex="1%"></div>

      </div>
