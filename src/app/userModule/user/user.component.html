<section>
<div class="container head_container">
  <div class="row">
    <div class="col-md-12 bread_crumb">
      <a href="/dashboard" target="_self">Dashboard</a>
      <span class="fa fa-caret-right"></span>
      <a href="/user-management/user" target="_self"> User Management</a>
    </div>
  </div>
    <div class="row">
    <div class="col-md-10">
      <p style="color: white;font-size: 2.8rem;">{{this.greeting()}},
        <strong style="padding-left: 8px;">{{userName | uppercase}}</strong></p>
    </div>
    <div class="col-md-2 text-right">
      <label style="color: white;font-size: 2.4rem;">MASTER DATA MANAGEMENT</label>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 ">
      <p style="color: white;font-size: 2.8rem;">User Management </p>
    </div>
  </div>
  <div class="row">
  <div class=" col-md-12 text-right">
    <a class="downloadFileFonts"><em (click)="ExportTOExcel()" style="cursor: pointer;">Download User Details</em></a>
  </div>
  </div>
</div>

  <!-- 18-Nov-2017 -->
  <div class="dashboard-first-container" fxLayout  fxLayout.xs="column wrap"  fxLayoutAlign="center" fxLayoutGap="0px" fxLayoutGap.xs="0px" >
  <div class="item item-4" fxFlex="100%"  fxFlexOffset.xs="0">
    <mat-card style="flex-wrap: wrap" class="example-card " fxFlex="100%" id="lending" style="margin-bottom: 3rem !important;">
      <div>
        <mat-radio-group #button class="example-radio-group" [(ngModel)]="selectedStatus" (ngModelChange) ="toptendata(10, button)">
          <mat-radio-button  class="example-radio-button" *ngFor="let label of radioLabel" [value]="label.value">
            {{label.name}}
          </mat-radio-button>
        </mat-radio-group>
        </div>
      <a routerLink="/user-management/usercreate" style="cursor: pointer;"  *ngxPermissionsOnly="['CREATE']" >
        <mat-icon id="plusicon" mat-card-avatar aria-label="Example icon">add_circle</mat-icon>
      </a>
      <span class="fa fa-search fa-lg" *ngIf="selectedStatus!=3" id="dashboard-search"></span>
      <input maxlength="50" class="banner-input1"  (keypress)="validInput($event)" placeholder="{{searchUserPlaceHolder}}" [(ngModel)]="searchValue"
      autocomplete="true"  [readonly]="selectedStatus==3" (keyup.enter)="applyFilter($event.target.value)">

      <hr class="green-border-heading">

      <div class="table_scroll" style="max-height: 60%; overflow-y: scroll" mat-elevation-z8 #TABLE>
        <table  mat-table [dataSource]="dataSource" #table matSort>
          <!-- Position Column -->
          <ng-container matColumnDef="userId"  >
            <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header style="width: 10%;"><p class="th-text"> User ID </p></th>
            <td mat-cell *matCellDef="let element" ><p class="th-text" >{{element.userId | uppercase}}</p></td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="name" >
            <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header style="width: 16%;" ><p class="th-text"> Name </p></th>
            <td mat-cell *matCellDef="let element" let i = index; [matTooltipDisabled]="element.name.length<20"
                [matTooltip]="element.name | uppercase" matTooltipPosition="above">
              <p class="th-text"  style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap;width: 25rem">{{element.name | uppercase}} </p></td>
          </ng-container>

          <ng-container matColumnDef="userDepartment">
            <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header style="width: 13%;"><p class="th-text"> Department </p></th>
            <td mat-cell *matCellDef="let element" let i = index;  [matTooltipDisabled]="element.userDepartment.length<19"
                [matTooltip]="element.userDepartment | uppercase" matTooltipPosition="above" style="max-width: unset !important">
              <p style="text-overflow: ellipsis; width: 20rem; overflow: hidden; white-space: nowrap;" class="th-text">{{element.userDepartment}}</p></td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="email">
            <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header  style="width:20%;"><p class="th-text"> Email Id</p> </th>
            <td mat-cell *matCellDef="let element" [matTooltipDisabled]="element.email.length<30"
                [matTooltip]="element.email | uppercase" matTooltipPosition="above"
                style="max-width: unset !important">
              <p class="th-text" style="text-overflow: ellipsis; width: 34rem; overflow: hidden; white-space: nowrap;">
                {{element.email | uppercase}}</p></td>
          </ng-container>

          <ng-container matColumnDef="effectiveDate">
            <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header style="width: 10%;"><p class="th-text"> Active Date</p> </th>
            <td mat-cell *matCellDef="let element"><p class="th-text">  {{element.effectiveDate | date: 'dd/MM/yyyy'}}</p></td>
          </ng-container>

          <ng-container matColumnDef="expiryDate">
            <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header style="width: 11%;"><p class="th-text"> Inactive Date</p> </th>
            <td mat-cell *matCellDef="let element"><p class="th-text">  {{(element.expiryDate) ? (element.expiryDate | date: 'dd/MM/yyyy') : ''}}</p></td>
          </ng-container>
          <ng-container matColumnDef="status">
            <th scope="row" mat-header-cell *matHeaderCellDef mat-sort-header style="width: 7%;"><p class="th-text"> Status </p></th>
            <td mat-cell *matCellDef="let element"><p class="th-text"> {{((element.status==1) ? 'ACTIVE' : 'INACTIVE')}}</p></td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="symbol">
            <th scope="row" mat-header-cell *matHeaderCellDef style="width: 13%;">View Details </th>
            <td style=" pointer-events: auto; padding-left: 0;" mat-cell class="viewlink" *matCellDef="let element" >
              <span *ngxPermissionsOnly="['READ']" style="cursor: pointer;" (click)="onEdit(element)" class="th-text-view">VIEW</span>

            <span *ngxPermissionsOnly="['CREATE','UPDATE']" style="cursor: pointer;" (click)="onEdit(element)" class="th-text-view"> / EDIT</span>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
      <ngx-spinner id="spinner" size="large" type="ball-spin-clockwise">

      </ngx-spinner>

       <div [ngStyle]="{'opacity':paginaFlg ? '1':'0'}">
         <mat-paginator
          #paginator
          [pageSize]="10"
          [pageSizeOptions]="[10, 15, 20]"
          [showFirstLastButtons]="true"></mat-paginator>
      </div>
    </mat-card>
  </div>

  <div fxFlex="1%"></div>

</div>

<!--<div class="row mo_mb10" style="margin-bottom: 5rem !important;">
  <div class="col-md-3 col-sm-6 mo_mb10 paddingrightzero"> -->

    <div *ngIf="favoriteObjectArray?.length >0"  class="row mo_mb10" style="margin-bottom: 5rem !important;">
      <div class="col-md-3 col-sm-6 mo_mb10 paddingrightzero" *ngFor="let favorite of favoriteObjectArray" let k=index>
    <mat-card class="matCardBottom cursorPointer paddingRadius" routerLink="/user-management/broadcast">
      <mat-card-content >
        <div class="topRow">
          <mat-icon matTooltip="Mark the object as pinned"  matTooltipPosition="above" class="bookMark"
                    [ngClass]="favorite.isPinned ? 'orange' : 'deselected_bookmark'"
                    (click)="addToPin(favorite)">{{ favorite.bookmarkIcon}}</mat-icon>
          <mat-icon matTooltip="Mark the object as favourite" matTooltipPosition="above"
                    class="heartIcon2" [ngClass]="favorite.isFavorite ? 'red' : green"
                      (click)="addToFavorite(favorite, k)">{{ favorite.favoriteIcon}}</mat-icon>
        </div>
        <div class="secondRow">
          <p style="cursor: pointer; height:68px;">{{favorite.objectName | titlecase}}
            <img class="iconImage" src="/assets/images/{{favorite?.imagePath}}"  alt="icon">
          </p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
</section>
